<!DOCTYPE html>
<html lang="en" data-theme="artistic" data-view="desktop">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self';
                   script-src 'self';
                   style-src 'self' 'unsafe-inline';
                   font-src 'self';
                   img-src 'self' data:;
                   connect-src 'none';
                   frame-ancestors 'none';
                   base-uri 'self';
                   form-action 'self';
                   object-src 'none';">
    <title>Compensation Journey</title>
    <!-- Chart.js self-hosted, lazy-loaded dynamically when needed for faster landing page -->
    <style>
        /* ========================================
           SELF-HOSTED FONTS (Closes #33)
           ======================================== */

        @font-face {
            font-family: 'JetBrains Mono';
            font-style: normal;
            font-weight: 400;
            font-display: swap;
            src: url('assets/fonts/jetbrains-mono-400.ttf') format('truetype');
        }
        @font-face {
            font-family: 'JetBrains Mono';
            font-style: normal;
            font-weight: 600;
            font-display: swap;
            src: url('assets/fonts/jetbrains-mono-600.ttf') format('truetype');
        }
        @font-face {
            font-family: 'JetBrains Mono';
            font-style: normal;
            font-weight: 700;
            font-display: swap;
            src: url('assets/fonts/jetbrains-mono-700.ttf') format('truetype');
        }
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 400;
            font-display: swap;
            src: url('assets/fonts/space-grotesk-400.ttf') format('truetype');
        }
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 600;
            font-display: swap;
            src: url('assets/fonts/space-grotesk-600.ttf') format('truetype');
        }
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 700;
            font-display: swap;
            src: url('assets/fonts/space-grotesk-700.ttf') format('truetype');
        }
    </style>
    <style>
        /* ========================================
           CSS CUSTOM PROPERTIES - DESIGN TOKENS
           Phase 1: Foundation Systems (#101-107)
           ======================================== */

        :root {
            --transition-speed: 0.3s;

            /* ===== TYPOGRAPHY SCALE (#102) ===== */
            /* Modular scale: 1.2 ratio (minor third) */
            --font-size-xs: 0.694rem;   /* 11.1px - Fine print, badges */
            --font-size-sm: 0.833rem;   /* 13.3px - Labels, captions */
            --font-size-base: 1rem;     /* 16px - Body text */
            --font-size-md: 1.2rem;     /* 19.2px - Subheadings */
            --font-size-lg: 1.44rem;    /* 23px - Section titles */
            --font-size-xl: 1.728rem;   /* 27.6px - Page titles */
            --font-size-2xl: 2.074rem;  /* 33.2px - Hero numbers */
            --font-size-3xl: 2.488rem;  /* 39.8px - Large display */

            /* ===== SPACING SCALE (#107) ===== */
            /* 4px base unit, powers of 2 for consistency */
            --space-1: 0.25rem;  /* 4px */
            --space-2: 0.5rem;   /* 8px */
            --space-3: 0.75rem;  /* 12px */
            --space-4: 1rem;     /* 16px */
            --space-5: 1.25rem;  /* 20px */
            --space-6: 1.5rem;   /* 24px */
            --space-8: 2rem;     /* 32px */
            --space-10: 2.5rem;  /* 40px */
            --space-12: 3rem;    /* 48px */
            --space-16: 4rem;    /* 64px */

            /* ===== BORDER RADIUS TOKENS (#106) ===== */
            /* Consistent radius scale */
            --radius-none: 0;
            --radius-xs: 2px;
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-full: 9999px;
        }

        /* TACTICAL THEME (Anduril/Palantir) */
        [data-theme="tactical"] {
            /* ===== SEMANTIC COLORS (#101) ===== */
            /* Background hierarchy */
            --bg-primary: #0a0a0b;
            --bg-secondary: #111113;
            --bg-tertiary: #1a1a1d;
            --bg-card: #141416;
            --bg-hover: #1e1e21;
            --bg-elevated: #1f1f22;

            /* Text hierarchy */
            --text-primary: #e8e8e8;
            --text-secondary: #a0a0a0;
            --text-muted: #7a7a7a;  /* Improved contrast: 4.7:1 on #0a0a0b */

            /* Brand colors - gold is primary action/emphasis */
            --color-brand: #d4a845;
            --color-brand-hover: #e0b854;
            --color-brand-muted: rgba(212, 168, 69, 0.15);

            /* Semantic colors - each has distinct purpose */
            --color-success: #45d48a;        /* Positive metrics, above benchmark */
            --color-success-muted: rgba(69, 212, 138, 0.15);
            --color-info: #4598d4;           /* Neutral info, tertiary actions */
            --color-info-muted: rgba(69, 152, 212, 0.15);
            --color-warning: #d4a845;        /* Caution, at benchmark (matches brand) */
            --color-warning-muted: rgba(212, 168, 69, 0.15);
            --color-danger: #d45745;         /* Below benchmark, errors, destructive */
            --color-danger-muted: rgba(212, 87, 69, 0.15);

            /* Legacy aliases (for gradual migration) */
            --accent-primary: var(--color-brand);
            --accent-secondary: var(--color-success);
            --accent-tertiary: var(--color-info);
            --accent-warning: var(--color-danger);

            /* Borders */
            --border-color: #2a2a2d;
            --border-accent: #3a3a3d;
            --border-focus: var(--color-brand);

            /* Charts */
            --chart-grid: rgba(255, 255, 255, 0.06);
            --chart-line-1: var(--color-brand);
            --chart-line-2: var(--color-success);
            --chart-fill-1: var(--color-brand-muted);
            --chart-fill-2: var(--color-success-muted);

            /* Typography */
            --font-display: 'Space Grotesk', sans-serif;
            --font-body: 'Space Grotesk', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            /* Theme-specific radius (sharper for tactical) */
            --radius-sm: var(--radius-xs);
            --radius-md: var(--radius-sm);
            --radius-lg: var(--radius-md);

            /* Shadows & effects */
            --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.4);
            --shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.6);
            --glow-primary: 0 0 20px rgba(212, 168, 69, 0.3);
            --glow-secondary: 0 0 20px rgba(69, 212, 138, 0.3);

            /* Tooltips */
            --tooltip-bg: #1a1a1d;
            --tooltip-border: #3a3a3d;

            /* ===== BUTTON TOKENS (#105) ===== */
            --btn-primary-bg: var(--color-brand);
            --btn-primary-text: var(--bg-primary);
            --btn-primary-hover-bg: var(--color-brand-hover);
            --btn-primary-hover-shadow: var(--glow-primary);

            --btn-secondary-bg: transparent;
            --btn-secondary-text: var(--text-secondary);
            --btn-secondary-border: var(--border-color);
            --btn-secondary-hover-border: var(--color-brand);
            --btn-secondary-hover-text: var(--color-brand);

            --btn-success-bg: transparent;
            --btn-success-text: var(--color-success);
            --btn-success-border: var(--color-success);
            --btn-success-hover-bg: var(--color-success);
            --btn-success-hover-text: var(--bg-primary);

            --btn-danger-bg: transparent;
            --btn-danger-text: var(--color-danger);
            --btn-danger-border: var(--color-danger);
            --btn-danger-hover-bg: var(--color-danger);
            --btn-danger-hover-text: var(--bg-primary);

            --btn-ghost-bg: transparent;
            --btn-ghost-text: var(--text-muted);
            --btn-ghost-hover-text: var(--color-brand);
            --btn-ghost-hover-bg: var(--bg-hover);
        }

        /* ARTISTIC THEME (Zoho) */
        [data-theme="artistic"] {
            /* ===== SEMANTIC COLORS (#101) ===== */
            /* Background hierarchy */
            --bg-primary: #faf8f5;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f5f2ed;
            --bg-card: #ffffff;
            --bg-hover: #f0ebe3;
            --bg-elevated: #ffffff;

            /* Text hierarchy */
            --text-primary: #2d2a26;
            --text-secondary: #5c5650;
            --text-muted: #706a61;  /* Improved contrast: 4.8:1 on #faf8f5 */

            /* Brand colors - orange is primary action/emphasis */
            --color-brand: #e85d04;
            --color-brand-hover: #d45303;
            --color-brand-muted: rgba(232, 93, 4, 0.12);

            /* Semantic colors - each has distinct purpose */
            --color-success: #0096c7;        /* Positive metrics, above benchmark (teal) */
            --color-success-muted: rgba(0, 150, 199, 0.12);
            --color-info: #7b2cbf;           /* Neutral info, tertiary actions (purple) */
            --color-info-muted: rgba(123, 44, 191, 0.12);
            --color-warning: #e85d04;        /* Caution, at benchmark (matches brand) */
            --color-warning-muted: rgba(232, 93, 4, 0.12);
            --color-danger: #d00000;         /* Below benchmark, errors, destructive */
            --color-danger-muted: rgba(208, 0, 0, 0.12);

            /* Legacy aliases (for gradual migration) */
            --accent-primary: var(--color-brand);
            --accent-secondary: var(--color-success);
            --accent-tertiary: var(--color-info);
            --accent-warning: var(--color-danger);

            /* Borders */
            --border-color: #e8e2da;
            --border-accent: #d4cdc3;
            --border-focus: var(--color-brand);

            /* Charts */
            --chart-grid: rgba(0, 0, 0, 0.06);
            --chart-line-1: var(--color-brand);
            --chart-line-2: var(--color-success);
            --chart-fill-1: var(--color-brand-muted);
            --chart-fill-2: var(--color-success-muted);

            /* Typography */
            --font-display: 'Space Grotesk', sans-serif;
            --font-body: 'Space Grotesk', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            /* Theme-specific radius (rounder for artistic) */
            --radius-sm: var(--radius-md);
            --radius-md: var(--radius-lg);
            --radius-lg: var(--radius-xl);

            /* Shadows & effects */
            --shadow-card: 0 4px 20px rgba(45, 42, 38, 0.08);
            --shadow-hover: 0 8px 30px rgba(45, 42, 38, 0.12);
            --glow-primary: none;
            --glow-secondary: none;

            /* Tooltips */
            --tooltip-bg: #ffffff;
            --tooltip-border: #e8e2da;

            /* ===== BUTTON TOKENS (#105) ===== */
            --btn-primary-bg: var(--color-brand);
            --btn-primary-text: #ffffff;
            --btn-primary-hover-bg: var(--color-brand-hover);
            --btn-primary-hover-shadow: 0 4px 12px rgba(232, 93, 4, 0.3);

            --btn-secondary-bg: transparent;
            --btn-secondary-text: var(--text-secondary);
            --btn-secondary-border: var(--border-color);
            --btn-secondary-hover-border: var(--color-brand);
            --btn-secondary-hover-text: var(--color-brand);

            --btn-success-bg: transparent;
            --btn-success-text: var(--color-success);
            --btn-success-border: var(--color-success);
            --btn-success-hover-bg: var(--color-success);
            --btn-success-hover-text: #ffffff;

            --btn-danger-bg: transparent;
            --btn-danger-text: var(--color-danger);
            --btn-danger-border: var(--color-danger);
            --btn-danger-hover-bg: var(--color-danger);
            --btn-danger-hover-text: #ffffff;

            --btn-ghost-bg: transparent;
            --btn-ghost-text: var(--text-muted);
            --btn-ghost-hover-text: var(--color-brand);
            --btn-ghost-hover-bg: var(--bg-hover);
        }

        /* ========================================
           BASE STYLES
           ======================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background var(--transition-speed), color var(--transition-speed);
            min-height: 100vh;
        }

        [data-theme="tactical"] body {
            background-image: 
                linear-gradient(rgba(212, 168, 69, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(212, 168, 69, 0.02) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        [data-theme="artistic"] body {
            background-image: radial-gradient(circle at 100% 0%, rgba(232, 93, 4, 0.03) 0%, transparent 50%),
                              radial-gradient(circle at 0% 100%, rgba(0, 150, 199, 0.03) 0%, transparent 50%);
        }

        /* ========================================
           LANDING PAGE STYLES
           ======================================== */
        
        .landing-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .landing-container {
            display: grid;
            grid-template-columns: 40% 60%; /* #67: More balanced split */
            gap: 0;
            width: 80vw;
            max-width: 1400px;
            min-width: 320px;
            height: auto;
            min-height: min(75vh, 600px);
            max-height: calc(100vh - 4rem);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
            overflow: auto;
        }

        @media (max-width: 900px) {
            .landing-container {
                grid-template-columns: 1fr;
                width: 90vw;
                height: auto;
                min-height: auto;
                max-height: none;
            }
        }

        @media (min-width: 1800px) {
            .landing-container {
                width: 75vw;
            }
        }

        /* Handle smaller viewport heights */
        @media (max-height: 800px) {
            .landing-page {
                padding: 1rem;
                align-items: flex-start;
            }
            .landing-container {
                max-height: none;
                min-height: auto;
            }
        }

        /* Left Panel */
        .landing-left {
            background: var(--bg-tertiary);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
        }

        @media (max-width: 900px) {
            .landing-left {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
        }

        .landing-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
        }

        .landing-logo-icon {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-family: var(--font-mono);
            font-size: 0.94rem;
            background: linear-gradient(135deg, var(--accent-primary), #b8942e);
            color: #0a0a0b;
        }

        [data-theme="artistic"] .landing-logo-icon {
            background: linear-gradient(135deg, var(--accent-primary), #ff7b00);
            color: white;
        }

        .landing-logo-text h1 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 600;
            line-height: 1.2;
        }

        [data-theme="tactical"] .landing-logo-text h1 {
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 1.06rem;
        }

        .landing-logo-text span {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .landing-description {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        /* Features List */
        .features-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 0.6rem;
            font-size: 0.94rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .feature-icon {
            font-size: 1.125rem;
            flex-shrink: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .feature-icon svg {
            width: 1.125rem;
            height: 1.125rem;
            color: var(--accent-primary);
        }

        /* Privacy Badge - #63: More compact, less dominant */
        .privacy-badge {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-3);
            margin-top: auto;
        }

        .privacy-icon {
            font-size: 1rem;
            flex-shrink: 0;
            line-height: 1;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .privacy-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--color-success);
        }

        .privacy-content h3 {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            color: var(--color-success);
            margin-bottom: var(--space-1);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .privacy-description {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            line-height: 1.4;
            margin-bottom: var(--space-2);
        }

        .privacy-features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.25rem 0.875rem;
        }

        .privacy-feature {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        .privacy-feature .check {
            color: var(--accent-secondary);
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .privacy-feature .check svg {
            width: 0.875rem;
            height: 0.875rem;
        }

        .privacy-session-warning {
            font-size: 0.7rem;
            color: var(--text-muted);
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 4px;
            padding: 0.5rem 0.75rem;
            margin-top: 0.75rem;
            line-height: 1.4;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .privacy-session-warning svg {
            width: 1rem;
            height: 1rem;
            color: rgba(255, 193, 7, 0.9);
            flex-shrink: 0;
            margin-top: 0.1rem;
        }

        .privacy-session-warning strong {
            color: var(--text-primary);
        }

        /* Right Panel */
        .landing-right {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .landing-right-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.6rem;
            flex-shrink: 0;
        }

        .landing-right-header h2 {
            font-family: var(--font-display);
            font-size: 1.125rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
        }

        .landing-right-header h2 svg {
            width: 1.125rem;
            height: 1.125rem;
            color: var(--accent-primary);
        }

        [data-theme="tactical"] .landing-right-header h2 {
            text-transform: uppercase;
            letter-spacing: 0.08em;
            font-size: 1rem;
        }

        /* Demo CTA - #64: Made secondary, less prominent */
        .demo-cta {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-5);
            padding: var(--space-3) var(--space-4);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            flex-shrink: 0;
        }

        .btn-demo {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all var(--transition-speed);
            white-space: nowrap;
            min-height: 40px;
        }

        .btn-demo:hover {
            border-color: var(--color-success);
            color: var(--color-success);
            background: var(--color-success-muted);
        }

        .demo-icon {
            font-size: var(--font-size-sm);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .demo-icon svg {
            width: 0.9rem;
            height: 0.9rem;
        }

        .demo-hint {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .alt-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .btn-text {
            background: none;
            border: none;
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            padding: 0.5rem 0.7rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            transition: color var(--transition-speed);
        }

        .btn-text:hover {
            color: var(--accent-primary);
        }

        .btn-text-alt {
            background: none;
            border: none;
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            padding: 0.5rem;
            cursor: pointer;
            transition: color var(--transition-speed);
            text-decoration: underline;
            text-underline-offset: 2px;
        }

        .btn-text-alt:hover {
            color: var(--accent-primary);
        }

        .alt-divider {
            color: var(--border-color);
            font-size: 0.875rem;
        }

        /* Inline Instructions */
        .instructions-box {
            padding: 0.875rem 1.125rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            margin-bottom: 0.875rem;
            flex-shrink: 0;
        }

        .instructions-box .instructions-title {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 0.6rem;
        }

        .instructions-list {
            margin: 0;
            padding-left: 1.25rem;
            font-size: 0.94rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .instructions-list li {
            margin-bottom: 0.35rem;
            padding-left: 0.25rem;
        }

        .instructions-list li:last-child {
            margin-bottom: 0;
        }

        .instructions-list code {
            background: var(--bg-primary);
            padding: 0.125rem 0.35rem;
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            color: var(--accent-primary);
        }

        .paste-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-bottom: 1rem;
            min-height: 0;
        }

        .paste-area label {
            display: block;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            flex-shrink: 0;
        }

        .paste-area textarea {
            width: 100%;
            flex: 1;
            min-height: 150px;
            max-height: 400px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 0.875rem;
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            line-height: 1.4;
            resize: vertical;  /* Allow vertical resize */
            transition: border-color var(--transition-speed);
        }

        .paste-area textarea:focus {
            border-color: var(--accent-primary);
        }

        .paste-area textarea:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 0;
        }

        .paste-area textarea::placeholder {
            color: var(--text-muted);
        }

        .validation-message {
            margin-top: var(--space-3);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-sm);
            font-family: var(--font-mono);
            display: none;
            flex-shrink: 0;
        }

        .validation-message.visible {
            display: block;
        }

        .validation-message.success {
            background: var(--color-success-muted);
            border: 1px solid var(--color-success);
            color: var(--color-success);
        }

        .validation-message.error {
            background: var(--color-danger-muted);
            border: 1px solid var(--color-danger);
            color: var(--color-danger);
        }

        .validation-message.warning {
            background: var(--color-warning-muted);
            border: 1px solid var(--color-warning);
            color: var(--color-warning);
        }

        /* #64 & #66: Landing footer - Generate is primary, JSON link grouped */
        .landing-footer {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: var(--space-4);
            flex-wrap: wrap;
            flex-shrink: 0;
        }

        .landing-footer .btn-primary {
            flex: 0 0 auto;
        }

        .landing-footer .alt-data-action {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .landing-footer .alt-data-action .btn-text-alt {
            font-size: var(--font-size-sm);
        }

        /* ===== BUTTON SYSTEM (#105) ===== */
        /* Unified button styling with consistent spacing and token usage */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-speed);
            border: 1px solid transparent;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            white-space: nowrap;
            min-height: 44px; /* WCAG touch target */
        }

        /* Primary: Main CTA actions (Generate, Submit) */
        .btn-primary {
            background: var(--btn-primary-bg);
            color: var(--btn-primary-text);
            border-color: var(--btn-primary-bg);
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--btn-primary-hover-bg);
            border-color: var(--btn-primary-hover-bg);
            box-shadow: var(--btn-primary-hover-shadow);
            transform: translateY(-1px);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Secondary: Alternate actions (Cancel, Back) */
        .btn-secondary {
            background: var(--btn-secondary-bg);
            color: var(--btn-secondary-text);
            border-color: var(--btn-secondary-border);
            padding: var(--space-2) var(--space-4);
        }

        .btn-secondary:hover {
            border-color: var(--btn-secondary-hover-border);
            color: var(--btn-secondary-hover-text);
        }

        /* Success: Positive actions (Save, Download, Confirm) */
        .btn-success {
            background: var(--btn-success-bg);
            border: 1px solid var(--btn-success-border);
            color: var(--btn-success-text);
            padding: var(--space-2) var(--space-4);
        }

        .btn-success:hover {
            background: var(--btn-success-hover-bg);
            color: var(--btn-success-hover-text);
        }

        /* Danger: Destructive actions (Delete, Reset, Clear) */
        .btn-danger {
            background: var(--btn-danger-bg);
            border: 1px solid var(--btn-danger-border);
            color: var(--btn-danger-text);
            padding: var(--space-2) var(--space-4);
        }

        .btn-danger:hover {
            background: var(--btn-danger-hover-bg);
            color: var(--btn-danger-hover-text);
        }

        /* Ghost: Low-emphasis actions (links, tertiary) */
        .btn-ghost {
            background: var(--btn-ghost-bg);
            color: var(--btn-ghost-text);
            border: none;
            padding: var(--space-2) var(--space-3);
        }

        .btn-ghost:hover {
            color: var(--btn-ghost-hover-text);
            background: var(--btn-ghost-hover-bg);
        }

        /* Size modifiers */
        .btn-sm {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-xs);
            min-height: 36px;
        }

        .btn-lg {
            padding: var(--space-4) var(--space-8);
            font-size: var(--font-size-base);
            min-height: 52px;
        }

        /* Legacy alias */
        .btn-compact {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-xs);
        }

        .help-note {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .animate-delay-500 {
            animation-delay: 0.5s;
        }

        .chart-wrapper-250 {
            height: 250px;
        }

        .file-input {
            display: none;
        }

        /* Theme toggle on landing */
        .landing-theme-toggle {
            position: fixed;
            top: 1rem;
            right: 1rem;
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .landing-theme-btn {
            padding: 0.4rem 0.6rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.7rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .landing-theme-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        /* ========================================
           MOBILE SPLASH SCREEN
           ======================================== */
        
        .mobile-splash {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            z-index: 9999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .mobile-splash.active {
            display: flex;
        }

        .mobile-splash-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .mobile-splash-title {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .mobile-splash-message {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
            max-width: 320px;
        }

        /* ========================================
           TOOLTIP STYLES
           ======================================== */
        
        .info-tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            font-size: 10px;
            color: var(--text-muted);
            cursor: help;
            margin-left: 6px;
            font-family: var(--font-mono);
            font-weight: 600;
            vertical-align: middle;
            flex-shrink: 0;
        }

        .info-tooltip::before {
            content: '?';
        }

        .info-tooltip .tip-text {
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            background: var(--tooltip-bg);
            color: var(--text-primary);
            padding: 0.75rem 1rem;
            border-radius: var(--radius-md);
            font-size: 0.75rem;
            font-weight: 400;
            line-height: 1.5;
            width: max-content;
            max-width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            border: 1px solid var(--tooltip-border);
            box-shadow: var(--shadow-card);
            z-index: 9999;
            font-family: var(--font-body);
            text-align: left;
            white-space: normal;
            pointer-events: none;
        }

        .info-tooltip .tip-text::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: var(--tooltip-border);
        }

        .info-tooltip:hover .tip-text {
            opacity: 1;
            visibility: visible;
        }

        .info-tooltip.tip-left .tip-text {
            left: auto;
            right: 0;
            transform: none;
        }

        .info-tooltip.tip-left .tip-text::after {
            left: auto;
            right: 10px;
            transform: none;
        }

        .info-tooltip.tip-right .tip-text {
            left: 0;
            transform: none;
        }

        .info-tooltip.tip-right .tip-text::after {
            left: 10px;
            transform: none;
        }

        /* ========================================
           DEMO BANNER - #104: Less aggressive, subtle styling
           ======================================== */

        .demo-banner {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
            padding: var(--space-2) var(--space-4);
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            position: sticky;
            top: 0;
            z-index: 200;
        }

        .demo-banner.hidden {
            display: none;
        }

        .demo-banner-icon {
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .demo-banner-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--color-info);
        }

        .demo-banner-text {
            text-align: center;
        }

        .demo-banner-text strong {
            font-weight: 700;
            color: var(--color-info);
        }

        .demo-banner-close {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            width: 32px;
            height: 32px;
            min-width: 32px;  /* Minimum touch target size */
            border-radius: var(--radius-full);
            cursor: pointer;
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-speed);
            flex-shrink: 0;
        }

        .demo-banner-close:hover {
            border-color: var(--color-danger);
            color: var(--color-danger);
        }

        .demo-regenerate-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-1);
            transition: all var(--transition-speed);
            white-space: nowrap;
            min-height: 32px;
        }

        .demo-regenerate-btn svg {
            width: 0.875rem;
            height: 0.875rem;
        }

        .demo-regenerate-btn:hover {
            border-color: var(--color-brand);
            color: var(--color-brand);
        }

        /* ========================================
           HEADER
           ======================================== */
        
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 300;
            backdrop-filter: blur(10px);
        }

        [data-theme="tactical"] .header {
            background: rgba(17, 17, 19, 0.95);
        }

        [data-theme="artistic"] .header {
            background: rgba(255, 255, 255, 0.95);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-family: var(--font-mono);
            font-size: 0.75rem;
        }

        [data-theme="tactical"] .logo-icon {
            background: linear-gradient(135deg, var(--accent-primary), #b8942e);
            color: #0a0a0b;
        }

        [data-theme="artistic"] .logo-icon {
            background: linear-gradient(135deg, var(--accent-primary), #ff7b00);
            color: white;
        }

        .logo-text h1 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 600;
            letter-spacing: -0.02em;
        }

        [data-theme="tactical"] .logo-text h1 {
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: 1rem;
        }

        .logo-text span {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        .header-controls {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .theme-switcher {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .theme-btn {
            padding: 0.5rem 0.75rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.7rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .theme-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .theme-btn:hover:not(.active) {
            background: var(--bg-hover);
        }

        .view-switcher {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .view-btn {
            padding: 0.5rem 0.75rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.7rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .view-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .view-btn:hover:not(.active) {
            background: var(--bg-hover);
        }

        /* ========================================
           KEYBOARD SHORTCUTS HINT
           ======================================== */
        
        .keyboard-hint {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 0.5rem 0.75rem;
            font-family: var(--font-mono);
            font-size: 0.65rem;
            color: var(--text-muted);
            box-shadow: var(--shadow-card);
            z-index: 50;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .keyboard-hint:hover {
            opacity: 1;
        }

        .keyboard-hint kbd {
            background: var(--bg-tertiary);
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            border: 1px solid var(--border-color);
            margin: 0 0.15rem;
        }

        /* ========================================
           MAIN CONTAINER
           ======================================== */
        
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
            transition: max-width 0.3s ease;
        }

        /* ========================================
           ANIMATIONS
           ======================================== */
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .animate-in {
            animation: fadeInUp 0.5s ease forwards;
            opacity: 0;
        }

        .animate-delay-1 { animation-delay: 0.1s; }
        .animate-delay-2 { animation-delay: 0.2s; }
        .animate-delay-3 { animation-delay: 0.3s; }
        .animate-delay-4 { animation-delay: 0.4s; }

        /* ========================================
           HERO METRICS - #69: Improved typography and spacing
           ======================================== */

        .hero-section {
            margin-bottom: var(--space-6);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        @media (max-width: 1024px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }

        .metric-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5) var(--space-6);
            transition: all var(--transition-speed);
            position: relative;
        }

        [data-theme="tactical"] .metric-card {
            box-shadow: var(--shadow-card);
        }

        [data-theme="artistic"] .metric-card {
            box-shadow: var(--shadow-card);
        }

        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent-primary);
        }

        [data-theme="tactical"] .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), transparent);
        }

        [data-theme="artistic"] .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-primary);
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .metric-label {
            display: flex;
            align-items: center;
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: var(--space-2);
        }

        .metric-value {
            font-family: var(--font-mono);
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
        }

        [data-theme="artistic"] .metric-value {
            font-family: var(--font-display);
        }

        .metric-value.highlight {
            color: var(--color-brand);
        }

        .metric-subtext {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-top: var(--space-2);
        }

        .metric-change {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            margin-top: var(--space-2);
        }

        .metric-change.positive {
            background: var(--color-success-muted);
            color: var(--color-success);
        }

        /* ========================================
           CHART CONTAINER
           ======================================== */

        .chart-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            flex-wrap: wrap;
            gap: var(--space-4);
        }

        .chart-title {
            display: flex;
            align-items: center;
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            font-weight: 600;
        }

        [data-theme="tactical"] .chart-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-sm);
        }

        /* #72: Chart controls - segmented button group style */
        .chart-controls {
            display: inline-flex;
            gap: 0;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-1);
        }

        .chart-type-btn {
            padding: var(--space-2) var(--space-3);
            background: transparent;
            border: none;
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            min-height: 32px;
        }

        .chart-type-btn.active {
            background: var(--bg-card);
            color: var(--text-primary);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .chart-type-btn:hover:not(.active) {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        .chart-wrapper {
            position: relative;
            height: 360px;
        }

        .chart-loading {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-card);
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            z-index: 5;
        }

        .chart-loading.hidden {
            display: none;
        }

        .chart-loading::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            margin-right: 0.75rem;
            animation: chart-spin 0.8s linear infinite;
        }

        @keyframes chart-spin {
            to { transform: rotate(360deg); }
        }

        /* ========================================
           TABS
           ======================================== */
        
        /* ========================================
           TAB NAVIGATION (top-level)
           ======================================== */

        .tabs-nav {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0 2rem;
            margin-bottom: 1.5rem;
        }

        .tabs-nav .tabs-header {
            display: flex;
            gap: 0.5rem;
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: auto;
            overflow-y: hidden;
            border-bottom: none;
            margin-bottom: 0;
        }

        .tabs-container {
            margin-bottom: 1.5rem;
        }

        .tabs-header {
            display: flex;
            gap: 0.25rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1.5rem;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .tab-btn {
            padding: var(--space-4) var(--space-6);
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-body);
            font-size: var(--font-size-md);
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all var(--transition-speed);
            white-space: nowrap;
            min-height: 44px; /* WCAG touch target */
        }

        [data-theme="tactical"] .tab-btn {
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-sm);
        }

        .tab-btn:hover {
            color: var(--text-primary);
        }

        .tab-btn.active {
            color: var(--color-brand);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--color-brand);
        }

        [data-theme="artistic"] .tab-btn.active::after {
            height: 3px;
            border-radius: var(--radius-xs) var(--radius-xs) 0 0;
        }

        /* #103: Tab shortcuts - styled as keyboard keys */
        .tab-shortcut {
            font-size: var(--font-size-xs);
            opacity: 0.4;
            margin-left: var(--space-2);
            padding: 2px 6px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xs);
            font-family: var(--font-mono);
            box-shadow: 0 1px 0 var(--border-color);
        }

        .tab-btn:hover .tab-shortcut {
            opacity: 0.6;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        /* ========================================
           STORY TAB
           ======================================== */
        
        .story-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
            overflow: hidden;
        }

        .story-header {
            padding: var(--space-8);
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-tertiary);
        }

        [data-theme="tactical"] .story-header {
            background: linear-gradient(135deg, var(--color-brand-muted), transparent);
        }

        [data-theme="artistic"] .story-header {
            background: linear-gradient(135deg, var(--color-brand-muted), var(--color-success-muted));
        }

        .story-header h2 {
            font-family: var(--font-display);
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-2);
        }

        [data-theme="tactical"] .story-header h2 {
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-size: var(--font-size-md);
        }

        .story-header .subtitle {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        [data-theme="tactical"] .story-header .subtitle {
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-xs);
        }

        .story-content {
            padding: var(--space-8);
            display: flex;
            gap: var(--space-8);
            align-items: flex-start;
        }

        .story-text {
            font-size: var(--font-size-base);
            line-height: 1.9;
            color: var(--text-secondary);
            max-width: 800px;
            flex: 1;
            min-width: 0;
        }

        [data-theme="tactical"] .story-text {
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            line-height: 1.8;
        }

        [data-theme="artistic"] .story-text {
            font-family: var(--font-display);
            font-style: normal;
            font-size: var(--font-size-base);
        }

        .story-text p {
            margin-bottom: var(--space-6);
        }

        .story-text p:last-child {
            margin-bottom: 0;
        }

        .story-highlight {
            color: var(--color-brand);
            font-weight: 600;
        }

        [data-theme="artistic"] .story-highlight {
            font-style: normal;
        }

        /* #75: Story stats - softer monospace styling */
        .story-stat {
            display: inline-block;
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-size: inherit;
            font-weight: 600;
            font-style: normal;
        }

        /* #74: Milestones section - better anchored to content */
        .milestones-section {
            width: 280px;
            flex-shrink: 0;
            padding: var(--space-5);
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-card);
            align-self: flex-start;
        }

        .milestones-title {
            font-family: var(--font-display);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            flex-shrink: 0;
            color: var(--text-secondary);
        }

        [data-theme="tactical"] .milestones-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-xs);
        }

        .milestone-grid {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .milestone-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-3) var(--space-4);
            position: relative;
            overflow: hidden;
        }

        .milestone-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: var(--color-success);
        }

        .milestone-icon {
            font-size: var(--font-size-md);
            margin-bottom: var(--space-1);
        }

        .milestone-title {
            font-weight: 600;
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-1);
        }

        [data-theme="tactical"] .milestone-title {
            font-family: var(--font-mono);
            text-transform: uppercase;
            font-size: 0.75rem;
        }

        .milestone-detail {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .milestone-date {
            font-family: var(--font-mono);
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        /* Market Comparison Section */
        .market-section {
            margin-top: 2.5rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .market-section:first-of-type {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        /* Market Tab Container */
        .market-tab-container {
            padding: 1.5rem;
        }

        .market-header {
            margin-bottom: 1.5rem;
        }

        .market-header h2 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        [data-theme="tactical"] .market-header h2 {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 1.2rem;
        }

        .market-header .subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Market Summary Card - #78: Stronger visual callout */
        .market-summary-cards {
            margin-bottom: var(--space-6);
        }

        .market-summary-card {
            display: flex;
            align-items: flex-start;
            gap: var(--space-5);
            padding: var(--space-6);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
        }

        .market-summary-card.outperforming {
            border-color: var(--color-success);
            background: linear-gradient(135deg, var(--color-success-muted), transparent);
        }

        .market-summary-card.underperforming {
            border-color: var(--color-danger);
            background: linear-gradient(135deg, var(--color-danger-muted), transparent);
        }

        .market-summary-icon {
            font-size: var(--font-size-2xl);
            flex-shrink: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
        }

        .market-summary-icon svg {
            width: 1.5rem;
            height: 1.5rem;
            color: var(--color-brand);
        }

        .market-summary-card.outperforming .market-summary-icon svg {
            color: var(--color-success);
        }

        .market-summary-card.underperforming .market-summary-icon svg {
            color: var(--color-danger);
        }

        .market-summary-content {
            flex: 1;
        }

        .market-summary-headline {
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            font-weight: 600;
            margin-bottom: var(--space-2);
            line-height: 1.4;
        }

        [data-theme="tactical"] .market-summary-headline {
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-sm);
        }

        .market-summary-detail {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.6;
        }

        .market-summary-detail strong {
            color: var(--text-primary);
        }

        /* Inflation Analysis Section */
        .inflation-analysis {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        @media (max-width: 700px) {
            .inflation-analysis {
                grid-template-columns: 1fr;
            }
        }

        .inflation-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-5);
        }

        .inflation-card-title {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: var(--space-3);
        }

        .inflation-card-value {
            font-size: var(--font-size-xl);
            font-weight: 700;
            font-family: var(--font-mono);
            margin-bottom: var(--space-1);
        }

        .inflation-card-value.positive {
            color: var(--color-success);
        }

        .inflation-card-value.negative {
            color: var(--color-danger);
        }

        .inflation-card-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .inflation-breakdown {
            margin-top: var(--space-4);
            padding-top: var(--space-4);
            border-top: 1px dashed var(--border-color);
        }

        .inflation-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--font-size-sm);
            padding: var(--space-1) 0;
        }

        .inflation-row-label {
            color: var(--text-secondary);
        }

        .inflation-row-value {
            font-family: var(--font-mono);
            font-weight: 600;
        }

        .inflation-row-value.positive {
            color: var(--color-success);
        }

        .inflation-row-value.negative {
            color: var(--color-danger);
        }

        .market-title {
            font-family: var(--font-display);
            font-size: var(--font-size-base);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
        }

        [data-theme="tactical"] .market-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-sm);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
        }

        @media (max-width: 900px) {
            .market-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .market-grid {
                grid-template-columns: 1fr;
            }
        }

        /* #79: Market cards - visual differentiation through subtle backgrounds */
        .market-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            position: relative;
        }

        .market-card.positive {
            background: linear-gradient(180deg, var(--color-success-muted), transparent);
        }

        .market-card.negative {
            background: linear-gradient(180deg, var(--color-danger-muted), transparent);
        }

        .market-card.neutral {
            border-color: var(--border-color);
        }

        .market-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-2);
        }

        .market-card-label {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-family: var(--font-mono);
        }

        /* #80: Market badges - toned down, less colorful */
        .market-card-badge {
            font-size: var(--font-size-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-weight: 500;
            text-transform: uppercase;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .market-card-badge.above {
            color: var(--color-success);
            border-color: var(--color-success);
        }

        .market-card-badge.below {
            color: var(--color-danger);
            border-color: var(--color-danger);
        }

        .market-card-badge.at {
            color: var(--text-secondary);
        }

        .market-card-value {
            font-size: var(--font-size-lg);
            font-weight: 700;
            font-family: var(--font-mono);
            margin-bottom: var(--space-1);
        }

        .market-card-value.positive {
            color: var(--color-success);
        }

        .market-card-value.negative {
            color: var(--color-danger);
        }

        .market-card-comparison {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .market-card-comparison strong {
            color: var(--text-primary);
        }

        .market-footnote {
            margin-top: var(--space-5);
            padding-top: var(--space-4);
            border-top: 1px dashed var(--border-color);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            font-style: italic;
        }

        /* Story stat indicators */
        .story-stat.positive {
            color: var(--color-success);
            background: var(--color-success-muted);
        }

        .story-stat.negative {
            color: var(--color-danger);
            background: var(--color-danger-muted);
        }

        /* ========================================
           DATA TABLE - #82-86: History table polish
           ======================================== */

        .data-table-container {
            overflow-x: auto;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: var(--font-size-sm);
        }

        .data-table th {
            background: var(--bg-tertiary);
            padding: var(--space-4);
            text-align: left;
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
        }

        /* #82: Right-align numeric columns */
        .data-table th:nth-child(n+3),
        .data-table td:nth-child(n+3) {
            text-align: right;
        }

        .data-table th .info-tooltip {
            margin-left: var(--space-1);
        }

        .data-table td {
            padding: var(--space-4);
            border-bottom: 1px solid var(--border-color);
            font-family: var(--font-mono);
            color: var(--text-primary);
        }

        [data-theme="artistic"] .data-table td {
            font-family: var(--font-body);
        }

        /* #84: Row hover state */
        .data-table tr:hover td {
            background: var(--bg-hover);
        }

        /* #85: Zebra striping */
        .data-table tbody tr:nth-child(even) td {
            background: var(--bg-tertiary);
        }

        .data-table tbody tr:nth-child(even):hover td {
            background: var(--bg-hover);
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        /* #83: Badges - reduced visual weight, more subtle */
        .badge {
            display: inline-block;
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-family: var(--font-body);
            text-transform: capitalize;
            font-weight: 500;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .badge-merit {
            color: var(--color-success);
        }

        .badge-equity {
            color: var(--color-info);
        }

        .badge-market {
            color: var(--color-brand);
        }

        .badge-new {
            color: var(--text-muted);
        }

        /* ========================================
           ANALYTICS SECTION
           ======================================== */

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        @media (max-width: 900px) {
            .analytics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }

        .analytics-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            box-shadow: var(--shadow-card);
        }

        .analytics-card-title {
            display: flex;
            align-items: center;
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: var(--space-3);
        }

        .analytics-card-value {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--text-primary);
            font-family: var(--font-mono);
        }

        [data-theme="artistic"] .analytics-card-value {
            font-family: var(--font-display);
        }

        .analytics-card-detail {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-top: var(--space-2);
        }

        /* ========================================
           PROJECTIONS SECTION
           ======================================== */

        .projections-controls {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        .control-group {
            margin-bottom: var(--space-6);
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .control-label {
            display: flex;
            align-items: center;
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: 0.75rem;
        }

        /* #95: Interval buttons - segmented control style matching chart controls */
        .interval-buttons {
            display: inline-flex;
            gap: 0;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-1);
        }

        .interval-btn {
            padding: var(--space-2) var(--space-4);
            background: transparent;
            border: none;
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            cursor: pointer;
            transition: all var(--transition-speed);
            min-height: 36px;
        }

        .interval-btn.active {
            background: var(--bg-card);
            color: var(--text-primary);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .interval-btn:hover:not(.active) {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        /* #94: Slider - better visibility */
        .slider-container {
            margin-top: var(--space-4);
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2);
        }

        .slider-value {
            font-family: var(--font-mono);
            font-weight: 600;
            color: var(--color-brand);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: var(--radius-sm);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]:focus-visible {
            outline: 2px solid var(--color-brand);
            outline-offset: 4px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-brand);
            cursor: pointer;
            border: 2px solid var(--bg-card);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-brand);
            cursor: pointer;
            border: 2px solid var(--bg-card);
        }

        .input-group {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
            flex-wrap: wrap;
        }

        .input-field {
            flex: 1;
            min-width: 150px;
        }

        .input-field label {
            display: flex;
            align-items: center;
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: 0.5rem;
        }

        .input-field input {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }

        .input-field input:focus {
            border-color: var(--accent-primary);
        }

        .input-field input:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 0;
        }

        .projection-result {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin-top: 1rem;
        }

        .projection-result-title {
            display: flex;
            align-items: center;
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
        }

        .projection-result-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--accent-secondary);
            font-family: var(--font-mono);
            margin-top: 0.25rem;
        }

        .projection-result-detail {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 0.25rem;
        }

        .projections-intro {
            margin-bottom: 1.5rem;
        }

        .projections-intro h2 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .projections-intro p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .projections-controls-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            align-items: flex-start;
        }

        .projections-controls-row .control-group {
            flex: 1;
            min-width: 200px;
        }

        .target-group {
            min-width: 280px !important;
        }

        .target-inline {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 0.5rem;
        }

        .target-inline span {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .target-inline input {
            width: 120px;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }

        .target-inline strong {
            color: var(--accent-secondary);
            font-family: var(--font-mono);
            font-size: 1rem;
        }

        .interval-buttons.centered {
            justify-content: center;
        }

        .scenario-label {
            font-size: 0.75rem;
            padding: 0.2rem 0.5rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .scenario-label.conservative {
            background: rgba(0, 150, 199, 0.15);
            color: var(--accent-secondary);
        }

        .scenario-label.historical {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .scenario-label.aggressive {
            background: rgba(232, 93, 4, 0.15);
            color: var(--accent-primary);
        }

        .slider-context {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 0.5rem;
        }

        .slider-context span {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .goal-input {
            display: flex;
            align-items: center;
            margin-top: 0.5rem;
        }

        .goal-currency {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-right: 0.25rem;
        }

        .goal-input input {
            width: 140px;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 1rem;
        }

        .goal-answer {
            margin-top: 0.75rem;
        }

        .goal-answer span:first-child {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-secondary);
            font-family: var(--font-mono);
        }

        .goal-context {
            display: block;
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 0.25rem;
        }

        .projections-controls-row.two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .projections-controls-row.two-col .control-group {
            min-width: unset;
        }

        .chart-header-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .chart-header-controls .interval-buttons {
            display: flex;
            gap: 0.25rem;
        }

        .chart-header-controls .interval-btn {
            padding: 0.4rem 0.75rem;
            font-size: 0.8rem;
        }

        .projection-slider-inline {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .projection-slider-inline .slider-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .projection-slider-inline input[type="range"] {
            width: 100px;
        }

        .projection-slider-inline .slider-value {
            font-weight: 700;
            color: var(--accent-primary);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            min-width: 35px;
        }

        .projection-slider-inline .scenario-label {
            font-size: 0.65rem;
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            font-weight: 600;
        }

        .projection-slider-inline .scenario-label.conservative {
            background: rgba(0, 150, 199, 0.15);
            color: var(--accent-secondary);
        }

        .projection-slider-inline .scenario-label.historical {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .projection-slider-inline .scenario-label.aggressive {
            background: rgba(232, 93, 4, 0.15);
            color: var(--accent-primary);
        }

        .projection-slider-inline .slider-context {
            font-size: 0.7rem;
            color: var(--text-tertiary);
        }

        .projections-table {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-card);
        }

        /* ========================================
           HELP SECTION - #97-100: Help tab polish
           ======================================== */

        .help-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-6);
        }

        @media (max-width: 768px) {
            .help-grid {
                grid-template-columns: 1fr;
            }
        }

        /* #97: Help cards - visual hierarchy through first card emphasis */
        .help-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        .help-card:first-child {
            grid-column: span 2;
            background: linear-gradient(135deg, var(--color-brand-muted), transparent);
        }

        @media (max-width: 768px) {
            .help-card:first-child {
                grid-column: span 1;
            }
        }

        /* #100: Help card headers - better stand out */
        .help-card h3 {
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            margin-bottom: var(--space-4);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .help-card h3::before {
            content: '';
            width: 4px;
            height: 1em;
            background: var(--color-brand);
            border-radius: var(--radius-xs);
        }

        [data-theme="tactical"] .help-card h3 {
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-sm);
        }

        .help-card p {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.7;
        }

        /* #98 & #99: Code and formula styling */
        .help-card code {
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        /* Keyboard shortcut styling */
        .help-card kbd {
            display: inline-block;
            padding: 2px 6px;
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xs);
            box-shadow: 0 1px 0 var(--border-color);
        }

        /* ========================================
           FOOTER
           ======================================== */
        
        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.75rem;
            font-family: var(--font-mono);
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
        }

        /* ========================================
           UTILITY: HIDDEN
           ======================================== */

        .hidden {
            display: none !important;
        }

        /* ========================================
           ACCESSIBILITY: FOCUS STYLES
           ======================================== */

        .btn:focus-visible,
        .tab-btn:focus-visible,
        .theme-btn:focus-visible,
        .view-btn:focus-visible,
        .landing-theme-btn:focus-visible,
        .chart-type-btn:focus-visible,
        .demo-banner-close:focus-visible,
        .demo-regenerate-btn:focus-visible,
        .btn-demo:focus-visible,
        .btn-text:focus-visible,
        .btn-text-alt:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
        }

        textarea:focus-visible,
        input:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 0;
        }

        /* Skip link for keyboard navigation */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            padding: 0.5rem 1rem;
            background: var(--accent-primary);
            color: var(--bg-primary);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            z-index: 10000;
            transition: top 0.2s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* ========================================
           ACCESSIBILITY: REDUCED MOTION
           ======================================== */

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .animate-in {
                animation: none;
                opacity: 1;
            }
        }

        /* ========================================
           PRIVACY CALLOUT (Right Panel)
           ======================================== */
        
        .privacy-callout {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 0.875rem;
            background: rgba(69, 212, 138, 0.1);
            border: 1px solid var(--accent-secondary);
            border-radius: var(--radius-md);
            margin-bottom: 0.875rem;
            flex-shrink: 0;
        }

        [data-theme="artistic"] .privacy-callout {
            background: rgba(0, 150, 199, 0.1);
        }

        .privacy-callout-icon {
            font-size: 1rem;
            flex-shrink: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .privacy-callout-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-secondary);
        }

        .privacy-callout-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .privacy-callout-text strong {
            color: var(--accent-secondary);
        }

        /* ========================================
           DOWNLOAD OFFLINE BUTTON
           ======================================== */
        
        .privacy-download {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px dashed var(--border-color);
        }

        .btn-download-offline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            padding: 0.5rem 0.75rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.7rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .btn-download-offline span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-download-offline svg {
            width: 0.875rem;
            height: 0.875rem;
        }

        .btn-download-offline:hover {
            border-color: var(--accent-secondary);
            color: var(--accent-secondary);
            background: rgba(69, 212, 138, 0.1);
        }

        [data-theme="artistic"] .btn-download-offline:hover {
            background: rgba(0, 150, 199, 0.1);
        }

        .download-hint {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-align: center;
            margin-top: 0.4rem;
            font-style: italic;
        }

        /* ========================================
           BENCHMARK SOURCES
           ======================================== */
        
        .benchmark-sources {
            margin-top: 1.5rem;
            padding: 1rem;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }

        .benchmark-sources-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            font-family: var(--font-mono);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        .benchmark-sources-header span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .benchmark-sources-header svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-primary);
        }

        .benchmark-sources-list {
            display: grid;
            gap: 0.5rem;
        }

        .benchmark-source-item {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .benchmark-source-item .source-icon {
            flex-shrink: 0;
            opacity: 0.6;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .benchmark-source-item .source-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-secondary);
        }

        .benchmark-source-item .source-label {
            font-weight: 600;
            color: var(--text-primary);
        }

        .benchmark-disclaimer {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px dashed var(--border-color);
            font-size: 0.75rem;
            color: var(--text-muted);
            font-style: italic;
        }

        .source-link {
            color: var(--accent-secondary);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent-secondary);
            transition: all var(--transition-speed);
        }

        .source-link:hover {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        /* ========================================
           TAB LINK (in-content navigation) - #76: Better distinguished
           ======================================== */

        .tab-link {
            color: var(--color-success);
            text-decoration: none;
            font-weight: 600;
            font-style: normal;
            border-bottom: 1px solid var(--color-success);
            transition: all var(--transition-speed);
            cursor: pointer;
        }

        .tab-link:hover {
            color: var(--color-brand);
            border-bottom-color: var(--color-brand);
        }

        /* ========================================
           STORY INSIGHT - #77: Improved note box styling
           ======================================== */

        .story-insight {
            margin-top: var(--space-8);
            padding: var(--space-4) var(--space-5);
            background: var(--color-info-muted);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .story-insight-label {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-info);
            display: block;
            margin-bottom: var(--space-2);
        }

        /* ========================================
           RESPONSIVE
           ======================================== */
        
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }

            .main-container {
                padding: 1rem;
            }

            .chart-wrapper {
                height: 280px;
            }

            .keyboard-hint {
                display: none;
            }

            .privacy-badge {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .privacy-features {
                justify-content: center;
            }

            .landing-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Skip link for keyboard navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- ==========================================
         MOBILE SPLASH SCREEN
         ========================================== -->
    <div id="mobileSplash" class="mobile-splash">
        <div class="mobile-splash-icon"></div>
        <h1 class="mobile-splash-title">Desktop Required</h1>
        <p class="mobile-splash-message">Compensation Journey is built for desktop browsers with larger screens. Please visit this page on a laptop or desktop computer to continue.</p>
    </div>

    <!-- ==========================================
         LANDING PAGE
         ========================================== -->
    <div id="landingPage" class="landing-page">
        <!-- Theme toggle -->
        <div class="landing-theme-toggle">
            <button class="landing-theme-btn" data-theme="tactical" aria-label="Dark tactical theme" aria-pressed="false">Tactical</button>
            <button class="landing-theme-btn active" data-theme="artistic" aria-label="Light artistic theme" aria-pressed="true">Artistic</button>
        </div>

        <div class="landing-container">
            <!-- Left Panel: Logo, Instructions, Privacy -->
            <div class="landing-left">
                <div class="landing-logo">
                    <div class="landing-logo-icon">CJ</div>
                    <div class="landing-logo-text">
                        <h1>Compensation Journey</h1>
                        <span>Paylocity  Insights</span>
                    </div>
                </div>

                <p class="landing-description">
                    Transform your raw Paylocity pay history into a beautiful, interactive dashboard. Visualize your career growth, analyze raise patterns, and project future earnings.
                </p>

                <div class="features-list">
                    <div class="feature-item">
                        <span class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 7h6v6"/><path d="m22 7l-8.5 8.5l-5-5L2 17"/></g></svg></span>
                        <span>Interactive salary timeline with multiple chart types</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 21v-6m7 6V9m7 12V3"/></svg></span>
                        <span>Analytics: CAGR, averages, raise frequency & more</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"/></svg></span>
                        <span>Future projections with customizable growth rates</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7v14m-9-3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4a4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3a3 3 0 0 0-3-3z"/></svg></span>
                        <span>Auto-generated narrative of your career story</span>
                    </div>
                </div>

                <div class="privacy-badge">
                    <div class="privacy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></g></svg></div>
                    <div class="privacy-content">
                        <h3>100% Private & Local</h3>
                        <p class="privacy-description">Your salary data never leaves your browser. No servers, no uploads, no trackingworks completely offline.</p>
                        <div class="privacy-features">
                            <span class="privacy-feature"><span class="check"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/></svg></span> Offline capable</span>
                            <span class="privacy-feature"><span class="check"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/></svg></span> No AI processing</span>
                            <span class="privacy-feature"><span class="check"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/></svg></span> No external requests</span>
                            <span class="privacy-feature"><span class="check"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/></svg></span> No data storage</span>
                        </div>
                        <p class="privacy-session-warning"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"/></svg> Data exists only in your current session. Refreshing or closing the tab will clear everything. Use <strong>Save Data</strong> to keep a local copy.</p>
                        <div class="privacy-download">
                            <button class="btn-download-offline" title="Save this webpage as an HTML file to run without internet access">
                                <span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 15V3m9 12v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="m7 10l5 5l5-5"/></g></svg></span> Save Page for Offline Use
                            </button>
                            <p class="download-hint">Download as HTML file  No internet needed</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Paste Area & Actions -->
            <div class="landing-right">
                <div class="landing-right-header">
                    <h2><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></g></svg> Import Your Data</h2>
                </div>

                <div class="demo-cta">
                    <button class="btn btn-demo">
                        <span class="demo-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"/></svg></span> View Demo Dashboard
                    </button>
                    <span class="demo-hint">See what you'll get before importing your data</span>
                </div>

                <div class="instructions-box">
                    <div class="instructions-title">How to get your data from Paylocity</div>
                    <ol class="instructions-list">
                        <li>Log in to <code>paylocity.com</code></li>
                        <li>On your dashboard, click the <code>Pay</code> card heading</li>
                        <li>Click the <code>Show Private Data</code> button</li>
                        <li>Navigate to the <code>Rates</code> tab</li>
                        <li>Select all content starting from <code>Rates</code> at the top, through the History table, down to <code>items</code> at the bottom</li>
                        <li>Copy (Ctrl+C / Cmd+C) and paste below</li>
                    </ol>
                </div>

                <div class="privacy-callout">
                    <span class="privacy-callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></g></svg></span>
                    <span class="privacy-callout-text"><strong>Your data stays on your device</strong>  nothing is sent anywhere. Disconnect from the internet to verify.</span>
                </div>

                <div class="paste-area">
                    <label for="pasteInput">Paste your Paylocity data here</label>
                    <textarea id="pasteInput" placeholder="Rates
Current
Effective Date  Change Reason  Pay Type  Per Check  Annual Salary
01/15/2025  Merit Increase  Salary  $4,583.33  $110,000.00

History
02/01/2024  Merit Increase  Salary  $4,250.00  $102,000.00
03/15/2023  Market Adjustment  Salary  $3,958.33  $95,000.00
..."></textarea>
                    <div id="validationMessage" class="validation-message"></div>
                </div>

                <div class="landing-footer">
                    <button class="btn btn-primary btn-lg" id="generateBtn" disabled>Generate Dashboard</button>
                    <span class="alt-data-action">or <button class="btn-text-alt" id="loadJsonBtn">load previously saved data</button></span>
                    <input type="file" id="jsonFileInput" class="file-input" accept=".json">
                </div>
            </div>
        </div>
    </div>

    <!-- ==========================================
         DASHBOARD
         ========================================== -->
    <div id="dashboardPage" class="hidden">
        <!-- DEMO BANNER -->
        <div id="demoBanner" class="demo-banner hidden" role="alert">
            <span class="demo-banner-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"/></svg></span>
            <span class="demo-banner-text">
                <strong>Demo Mode:</strong>
                <span id="scenarioLabel">Scenario 1: Growth Phase (5 years)</span>
            </span>
            <button class="demo-regenerate-btn" aria-label="Try another demo scenario">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 0 1 9-9a9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5m5 4a9 9 0 0 1-9 9a9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></g></svg> Try Another
            </button>
            <button class="demo-banner-close" aria-label="Dismiss demo banner"></button>
        </div>

        <!-- HEADER -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">CJ</div>
                    <div class="logo-text">
                        <h1>Compensation Journey</h1>
                        <span>Personal Dashboard</span>
                    </div>
                </div>
                <div class="header-controls">
                    <div class="view-switcher" role="group" aria-label="Value display mode">
                        <button class="view-btn active" data-view="dollars" aria-label="Show dollar values" aria-pressed="true">$</button>
                        <button class="view-btn" data-view="index" aria-label="Show indexed values" aria-pressed="false">Index</button>
                    </div>
                    <div class="theme-switcher" role="group" aria-label="Theme selection">
                        <button class="theme-btn" data-theme="tactical" aria-label="Dark tactical theme" aria-pressed="false">Tactical</button>
                        <button class="theme-btn active" data-theme="artistic" aria-label="Light artistic theme" aria-pressed="true">Artistic</button>
                    </div>
                    <button class="btn btn-success btn-compact btn-save-data" title="Download your data as JSON">Save Data</button>
                    <button class="btn btn-danger btn-compact btn-start-over" title="Clear data and return to input">Start Over</button>
                </div>
            </div>
        </header>

        <!-- KEYBOARD SHORTCUTS HINT -->
        <div class="keyboard-hint">
            <kbd>1</kbd>-<kbd>7</kbd> tabs  <kbd>T</kbd> theme  <kbd>V</kbd> view
        </div>

        <!-- TAB NAVIGATION -->
        <nav class="tabs-nav" aria-label="Dashboard sections">
            <div class="tabs-header" role="tablist">
                <button class="tab-btn active" id="tab-btn-home" data-tab="home" role="tab" aria-selected="true" aria-controls="tab-home">Home<span class="tab-shortcut" aria-hidden="true">1</span></button>
                <button class="tab-btn" id="tab-btn-story" data-tab="story" role="tab" aria-selected="false" aria-controls="tab-story">Story<span class="tab-shortcut" aria-hidden="true">2</span></button>
                <button class="tab-btn" id="tab-btn-market" data-tab="market" role="tab" aria-selected="false" aria-controls="tab-market">Market<span class="tab-shortcut" aria-hidden="true">3</span></button>
                <button class="tab-btn" id="tab-btn-history" data-tab="history" role="tab" aria-selected="false" aria-controls="tab-history">History<span class="tab-shortcut" aria-hidden="true">4</span></button>
                <button class="tab-btn" id="tab-btn-analytics" data-tab="analytics" role="tab" aria-selected="false" aria-controls="tab-analytics">Analytics<span class="tab-shortcut" aria-hidden="true">5</span></button>
                <button class="tab-btn" id="tab-btn-projections" data-tab="projections" role="tab" aria-selected="false" aria-controls="tab-projections">Projections<span class="tab-shortcut" aria-hidden="true">6</span></button>
                <button class="tab-btn" id="tab-btn-help" data-tab="help" role="tab" aria-selected="false" aria-controls="tab-help">Help<span class="tab-shortcut" aria-hidden="true">7</span></button>
            </div>
        </nav>

        <!-- MAIN CONTENT -->
        <main class="main-container" id="main-content">
            <!-- HOME TAB -->
            <div class="tab-content active" id="tab-home" role="tabpanel" aria-labelledby="tab-btn-home">
            <!-- HERO METRICS -->
            <section class="hero-section">
                <div class="metrics-grid">
                    <div class="metric-card animate-in animate-delay-1">
                        <div class="metric-label">
                            Current Compensation
                            <span class="info-tooltip"><span class="tip-text">Your most recent annual salary as of the last recorded adjustment. This reflects base salary only, excluding bonuses or equity.</span></span>
                        </div>
                        <div class="metric-value highlight" id="currentSalary">$281,600</div>
                        <div class="metric-subtext" id="currentSalaryIndexed">Index: 704</div>
                    </div>
                    <div class="metric-card animate-in animate-delay-2">
                        <div class="metric-label">
                            Total Growth
                            <span class="info-tooltip"><span class="tip-text">The percentage increase from your starting salary to your current salary. Calculated as: ((Current - Starting) / Starting)  100</span></span>
                        </div>
                        <div class="metric-value" id="totalGrowth">+604%</div>
                        <div class="metric-subtext" id="totalGrowthSubtext">Since hire</div>
                    </div>
                    <div class="metric-card animate-in animate-delay-3">
                        <div class="metric-label">
                            Years of Service
                            <span class="info-tooltip"><span class="tip-text">Total time elapsed since your hire date to the most recent compensation record.</span></span>
                        </div>
                        <div class="metric-value" id="yearsService">12.8</div>
                        <div class="metric-subtext" id="hireDateText">Since Mar 2012</div>
                    </div>
                    <div class="metric-card animate-in animate-delay-4">
                        <div class="metric-label">
                            Total Adjustments
                            <span class="info-tooltip"><span class="tip-text">The number of compensation changes on record, including merit increases, equity adjustments, market adjustments, and your initial hire rate.</span></span>
                        </div>
                        <div class="metric-value" id="totalRaises">19</div>
                        <div class="metric-subtext" id="avgRaisesPerYear">Avg: 1.5 per year</div>
                    </div>
                </div>
            </section>

            <!-- MAIN CHART -->
            <section class="chart-section animate-in animate-delay-500">
                <div class="chart-header">
                    <h2 class="chart-title">
                        Compensation Timeline
                        <span class="info-tooltip"><span class="tip-text">Visual representation of your salary progression over time. Each point represents a compensation adjustment. Hover over points for details.</span></span>
                    </h2>
                    <div class="chart-controls">
                        <button class="chart-type-btn active" data-chart="line">Line</button>
                        <button class="chart-type-btn" data-chart="area">Area</button>
                        <button class="chart-type-btn" data-chart="bar">Bar</button>
                        <button class="chart-type-btn" data-chart="step">Step</button>
                    </div>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-loading" id="mainChartLoading">Loading chart...</div>
                    <canvas id="mainChart"></canvas>
                </div>
            </section>
            </div>

            <!-- TABS -->
            <section class="tabs-container">
                <!-- STORY TAB -->
                <div class="tab-content" id="tab-story" role="tabpanel" aria-labelledby="tab-btn-story">
                    <div class="story-container">
                        <div class="story-header">
                            <h2 id="storyTitle">Mission Debrief: Compensation Trajectory</h2>
                            <p class="subtitle" id="storySubtitle">Classification: Personnel Asset Valuation Report</p>
                        </div>
                        <div class="story-content">
                            <div class="story-text" id="storyText"></div>
                            
                            <div class="milestones-section">
                                <h3 class="milestones-title">
                                    Key Milestones Achieved
                                    <span class="info-tooltip"><span class="tip-text">Automatically detected career achievements based on your compensation history.</span></span>
                                </h3>
                                <div class="milestone-grid" id="milestonesGrid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MARKET TAB -->
                <div class="tab-content" id="tab-market" role="tabpanel" aria-labelledby="tab-btn-market">
                    <div class="market-tab-container">
                        <div class="market-header">
                            <h2 id="marketTitle">Market Position Analysis</h2>
                            <p class="subtitle" id="marketSubtitle">How your compensation compares to B2B SaaS industry benchmarks</p>
                        </div>
                        
                        <div class="market-summary-cards">
                            <div class="market-summary-card" id="marketSummaryCard">
                                <div class="market-summary-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 21v-6m7 6V9m7 12V3"/></svg></div>
                                <div class="market-summary-content">
                                    <div class="market-summary-headline" id="marketSummaryHeadline">Loading...</div>
                                    <div class="market-summary-detail" id="marketSummaryDetail"></div>
                                </div>
                            </div>
                        </div>

                        <div class="market-section">
                            <h3 class="market-title">
                                Key Metrics vs Industry
                                <span class="info-tooltip"><span class="tip-text">Your compensation metrics compared to B2B SaaS industry benchmarks. Data compiled from Radford, Mercer, and industry surveys.</span></span>
                            </h3>
                            <div class="market-grid" id="marketComparisonGrid"></div>
                        </div>

                        <div class="market-section">
                            <h3 class="market-title">
                                Inflation & Purchasing Power
                                <span class="info-tooltip"><span class="tip-text">How inflation has impacted your real earnings over time. CPI data from Bureau of Labor Statistics.</span></span>
                            </h3>
                            <div class="inflation-analysis" id="inflationAnalysis"></div>
                        </div>

                        <div class="benchmark-sources">
                            <div class="benchmark-sources-header">
                                <span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m16 6l4 14M12 6v14M8 8v12M4 4v16"/></svg></span> Data Sources & Methodology
                            </div>
                            <div class="benchmark-sources-list">
                                <div class="benchmark-source-item">
                                    <span class="source-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 21v-6m7 6V9m7 12V3"/></svg></span>
                                    <span><span class="source-label">Salary Benchmarks:</span> Compiled from <a href="https://radford.aon.com/" target="_blank" rel="noopener" class="source-link">Radford Global Technology Survey</a>, <a href="https://www.mercer.com/solutions/total-rewards/compensation-benchmarking/" target="_blank" rel="noopener" class="source-link">Mercer Total Remuneration Survey</a>, <a href="https://www.levels.fyi/" target="_blank" rel="noopener" class="source-link">Levels.fyi</a>, and <a href="https://www.glassdoor.com/Salaries/" target="_blank" rel="noopener" class="source-link">Glassdoor</a> B2B SaaS compensation data (2024-2025)</span>
                                </div>
                                <div class="benchmark-source-item">
                                    <span class="source-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 7h6v6"/><path d="m22 7l-8.5 8.5l-5-5L2 17"/></g></svg></span>
                                    <span><span class="source-label">Inflation Data:</span> <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener" class="source-link">U.S. Bureau of Labor Statistics</a> Consumer Price Index (CPI-U), Annual Averages</span>
                                </div>
                                <div class="benchmark-source-item">
                                    <span class="source-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 10h.01M12 14h.01M12 6h.01M16 10h.01M16 14h.01M16 6h.01M8 10h.01M8 14h.01M8 6h.01M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"/><rect width="16" height="20" x="4" y="2" rx="2"/></g></svg></span>
                                    <span><span class="source-label">Industry CAGR:</span> Based on 6% average compensation growth in B2B SaaS sector, derived from industry surveys and public company filings</span>
                                </div>
                            </div>
                            <div class="benchmark-disclaimer">
                                Benchmarks represent industry averages and may vary significantly by role, experience level, location, and company stage. This tool is for informational purposes only.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HISTORY TAB -->
                <div class="tab-content" id="tab-history" role="tabpanel" aria-labelledby="tab-btn-history">
                    <div class="data-table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Effective Date</th>
                                    <th>Reason</th>
                                    <th>Annual Salary</th>
                                    <th>Index</th>
                                    <th>Change</th>
                                    <th>% Change</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- ANALYTICS TAB -->
                <div class="tab-content" id="tab-analytics" role="tabpanel" aria-labelledby="tab-btn-analytics">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Compound Annual Growth Rate
                                <span class="info-tooltip"><span class="tip-text">If your salary grew by the same percentage every year, this is what that percentage would be. It smooths out the ups and downs into one number.</span></span>
                            </div>
                            <div class="analytics-card-value" id="cagr">16.4%</div>
                            <div class="analytics-card-detail">Average annual growth over career</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Average Raise
                                <span class="info-tooltip"><span class="tip-text">The arithmetic mean of all your raise percentages.</span></span>
                            </div>
                            <div class="analytics-card-value" id="avgRaise">12.7%</div>
                            <div class="analytics-card-detail" id="avgRaiseDollar">~$12,700 per adjustment</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Median Raise
                                <span class="info-tooltip"><span class="tip-text">The middle value when all raises are sorted.</span></span>
                            </div>
                            <div class="analytics-card-value" id="medianRaise">11.2%</div>
                            <div class="analytics-card-detail">Middle value of all raises</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Largest Single Increase
                                <span class="info-tooltip"><span class="tip-text">Your biggest percentage raise in a single adjustment.</span></span>
                            </div>
                            <div class="analytics-card-value" id="largestRaise">29.5%</div>
                            <div class="analytics-card-detail" id="largestRaiseDate">April 2015</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Avg. Time Between Raises
                                <span class="info-tooltip"><span class="tip-text">How frequently you receive compensation adjustments. The industry standard is typically 12 months (annual review cycles).</span></span>
                            </div>
                            <div class="analytics-card-value" id="avgTimeBetween">8.1 mo</div>
                            <div class="analytics-card-detail" id="avgTimeDetail">Industry standard: 12 months</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-card-title">
                                Merit Increases
                                <span class="info-tooltip"><span class="tip-text">Number of raises specifically categorized as merit-based.</span></span>
                            </div>
                            <div class="analytics-card-value" id="meritCount">14</div>
                            <div class="analytics-card-detail" id="meritPercent">73.7% of all adjustments</div>
                        </div>
                    </div>

                    <div class="chart-section">
                        <div class="chart-header">
                            <h2 class="chart-title">Annual Salary Change Rate</h2>
                            <div class="chart-controls">
                                <button class="chart-type-btn active" data-chart="yoy-bar">Bar</button>
                                <button class="chart-type-btn" data-chart="yoy-line">Line</button>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="yoyChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-section">
                        <div class="chart-header">
                            <h2 class="chart-title">Adjustments by Category</h2>
                        </div>
                        <div class="chart-wrapper chart-wrapper-250">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- PROJECTIONS TAB -->
                <div class="tab-content" id="tab-projections" role="tabpanel" aria-labelledby="tab-btn-projections">
                    <div class="projections-intro">
                        <h2>Future Compensation Projections</h2>
                        <p>Explore potential salary growth scenarios. Adjust the raise percentage to see how different growth rates would impact your compensation over time.</p>
                    </div>

                    <div class="chart-section">
                        <div class="chart-header">
                            <h2 class="chart-title">Future Trajectory</h2>
                            <div class="chart-header-controls">
                                <div class="projection-slider-inline">
                                    <label for="customRateSlider" class="slider-label">What if raises average</label>
                                    <input type="range" min="0" max="25" value="8" id="customRateSlider" aria-label="Average raise percentage">
                                    <span class="slider-value" id="customRateValue">8%</span>
                                    <span class="slider-context">(Your historical: <span id="historicalRateDisplay">--</span>)</span>
                                </div>
                                <div class="interval-buttons">
                                    <button class="interval-btn" data-years="1">1 yr</button>
                                    <button class="interval-btn" data-years="3">3 yr</button>
                                    <button class="interval-btn active" data-years="5">5 yr</button>
                                    <button class="interval-btn" data-years="10">10 yr</button>
                                    <button class="interval-btn" data-years="20">20 yr</button>
                                </div>
                                <div class="chart-controls">
                                    <button class="chart-type-btn active" data-view="chart">Chart</button>
                                    <button class="chart-type-btn" data-view="table">Table</button>
                                </div>
                            </div>
                        </div>
                        <div class="chart-wrapper" id="projectionChartWrapper">
                            <canvas id="projectionChart"></canvas>
                        </div>
                        <div class="projections-table hidden" id="projectionTableWrapper">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Historical CAGR</th>
                                        <th>Conservative (5%)</th>
                                        <th>Custom Rate</th>
                                        <th>Optimistic (12%)</th>
                                    </tr>
                                </thead>
                                <tbody id="projectionTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- HELP TAB -->
                <div class="tab-content" id="tab-help" role="tabpanel" aria-labelledby="tab-btn-help">
                    <div class="help-grid">
                        <div class="help-card">
                            <h3>Understanding Indexed Values</h3>
                            <p>When privacy mode is enabled, salary values are shown as an index where your starting salary equals <code>100</code>. An index of <code>704</code> means your current compensation is 7.04 your starting salary.</p>
                        </div>
                        <div class="help-card">
                            <h3>CAGR (Compound Annual Growth Rate)</h3>
                            <p>CAGR represents the mean annual growth rate over a specified time period. Formula: <code>((Final/Initial)^(1/years)) - 1</code></p>
                        </div>
                        <div class="help-card">
                            <h3>Adjustment Categories</h3>
                            <p><strong>Merit Increase:</strong> Performance-based raise.<br>
                            <strong>Equity:</strong> Internal fairness alignment.<br>
                            <strong>Market Adjustment:</strong> External market response.<br>
                            <strong>New Hire:</strong> Starting compensation.</p>
                        </div>
                        <div class="help-card">
                            <h3>Saving Your Data</h3>
                            <p>Click <code>Save Data</code> to download a JSON file. Load it later with <code>Load Saved Data</code> on the landing pageno need to re-paste from Paylocity.</p>
                        </div>
                        <div class="help-card">
                            <h3>Privacy & Security</h3>
                            <p>All processing happens in your browser. No data is sent to any server. You can verify this by disconnecting from the internetthe dashboard will still work.</p>
                        </div>
                        <div class="help-card">
                            <h3>Keyboard Shortcuts</h3>
                            <p><strong>Navigation</strong><br>
                            <code>1</code> Home &nbsp; <code>2</code> Story &nbsp; <code>3</code> Market &nbsp; <code>4</code> History<br>
                            <code>5</code> Analytics &nbsp; <code>6</code> Projections &nbsp; <code>7</code> Help</p>
                            <p><strong>Controls</strong><br>
                            <code>T</code> Toggle theme (Tactical/Artistic)<br>
                            <code>V</code> or <code>P</code> Toggle privacy mode ($/Index)</p>
                            <p class="help-note">
                                <strong>Accessibility:</strong> Shortcuts are disabled when typing in input fields.
                                All features are accessible via mouse/touch and screen readers.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- FOOTER -->
        <footer class="footer">
            <p>Compensation Journey Dashboard  100% Local Processing  Your data never leaves your device</p>
        </footer>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
