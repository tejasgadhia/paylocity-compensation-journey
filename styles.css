        /* ========================================
           SELF-HOSTED FONTS (Closes #33)
           ======================================== */

        /* #149: Font loading optimized for initial page load performance
         * Critical fonts (swap): Load immediately, needed on landing page
         * Deferred fonts (optional): Only load if dashboard is shown, saves ~35KB initial load
         */

        /* Critical: JetBrains Mono 400 & 600 for landing page labels */
        @font-face {
            font-family: 'JetBrains Mono';
            font-style: normal;
            font-weight: 400;
            font-display: swap;  /* Critical for landing page */
            src: url('assets/fonts/jetbrains-mono-400.woff2') format('woff2');
        }
        @font-face {
            font-family: 'JetBrains Mono';
            font-style: normal;
            font-weight: 600;
            font-display: swap;  /* Critical for landing page */
            src: url('assets/fonts/jetbrains-mono-600.woff2') format('woff2');
        }
        /* JetBrains Mono 700 removed - unused weight, saves ~21KB */

        /* Critical: Space Grotesk 400 for landing page body text */
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 400;
            font-display: swap;  /* Critical for landing page */
            src: url('assets/fonts/space-grotesk-400.woff2') format('woff2');
        }
        /* Deferred: Space Grotesk 600 & 700 only needed in dashboard */
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 600;
            font-display: optional;  /* #149: Deferred until dashboard loads */
            src: url('assets/fonts/space-grotesk-600.woff2') format('woff2');
        }
        @font-face {
            font-family: 'Space Grotesk';
            font-style: normal;
            font-weight: 700;
            font-display: optional;  /* #149: Deferred until dashboard loads */
            src: url('assets/fonts/space-grotesk-700.woff2') format('woff2');
        }
        /* ========================================
           CSS CUSTOM PROPERTIES - DESIGN TOKENS
           Phase 1: Foundation Systems (#101-107)
           ======================================== */

        :root {
            --transition-speed: 0.3s;

            /* ===== TYPOGRAPHY SCALE (#102) ===== */
            /* Modular scale: 1.2 ratio (minor third) */
            --font-size-xs: 0.694rem;   /* 11.1px - Fine print, badges */
            --font-size-sm: 0.833rem;   /* 13.3px - Labels, captions */
            --font-size-base: 1rem;     /* 16px - Body text */
            --font-size-md: 1.2rem;     /* 19.2px - Subheadings */
            --font-size-lg: 1.44rem;    /* 23px - Section titles */
            --font-size-xl: 1.728rem;   /* 27.6px - Page titles */
            --font-size-2xl: 2.074rem;  /* 33.2px - Hero numbers */
            --font-size-3xl: 2.488rem;  /* 39.8px - Large display */

            /* ===== SPACING SCALE (#107) ===== */
            /* 4px base unit, powers of 2 for consistency */
            --space-1: 0.25rem;  /* 4px */
            --space-2: 0.5rem;   /* 8px */
            --space-3: 0.75rem;  /* 12px */
            --space-4: 1rem;     /* 16px */
            --space-5: 1.25rem;  /* 20px */
            --space-6: 1.5rem;   /* 24px */
            --space-8: 2rem;     /* 32px */
            --space-10: 2.5rem;  /* 40px */
            --space-12: 3rem;    /* 48px */
            --space-16: 4rem;    /* 64px */

            /* ===== BORDER RADIUS TOKENS (#106) ===== */
            /* Base radius scale */
            --radius-none: 0;
            --radius-xs: 2px;
            --radius-sm: 4px;
            --radius-md: 6px;     /* Button/input standard */
            --radius-lg: 8px;     /* Cards */
            --radius-xl: 12px;    /* Large cards, modals */
            --radius-2xl: 16px;   /* Hero elements */
            --radius-full: 9999px;

            /* Semantic radius aliases (for clarity in component CSS) */
            --radius-btn: var(--radius-md);     /* 6px - buttons */
            --radius-input: var(--radius-md);   /* 6px - inputs, textareas */
            --radius-card: var(--radius-lg);    /* 8px - cards, panels */
            --radius-badge: var(--radius-sm);   /* 4px - badges, chips */
            --radius-modal: var(--radius-xl);   /* 12px - modals, dialogs */

            /* ===== SIZING TOKENS ===== */
            /* Icon sizes */
            --size-icon-xs: 1rem;      /* 16px - inline icons */
            --size-icon-sm: 1.25rem;   /* 20px - small icons */
            --size-icon-md: 1.5rem;    /* 24px - standard icons */
            --size-icon-lg: 2rem;      /* 32px - large icons */
            --size-icon-xl: 2.5rem;    /* 40px - hero icons */

            /* Component sizes */
            --size-badge: 1.375rem;    /* 22px - number badges */
            --size-logo: 2.25rem;      /* 36px - logo icon */
            --size-touch-target: 2.75rem; /* 44px - WCAG touch target */
        }

        /* TACTICAL THEME (Dark - Anduril/Palantir) */
        [data-theme="tactical"] {
            /* ===== SEMANTIC COLORS (#101) ===== */
            /* Background hierarchy */
            --bg-primary: #0a0a0b;
            --bg-secondary: #111113;
            --bg-tertiary: #1a1a1d;
            --bg-card: #141416;
            --bg-hover: #1e1e21;
            --bg-elevated: #1f1f22;

            /* Text hierarchy */
            --text-primary: #e8e8e8;
            --text-secondary: #a0a0a0;
            --text-muted: #7a7a7a;  /* WCAG AA compliant: 4.7:1 on #0a0a0b */

            /* Brand colors - gold is primary action/emphasis */
            --color-brand: #d4a845;
            --color-brand-hover: #e0b854;
            --color-brand-muted: rgba(212, 168, 69, 0.15);

            /* Semantic colors - each has distinct purpose */
            --color-success: #45d48a;        /* Positive metrics, above benchmark */
            --color-success-muted: rgba(69, 212, 138, 0.15);
            --color-info: #4598d4;           /* Neutral info, tertiary actions */
            --color-info-muted: rgba(69, 152, 212, 0.15);
            --color-warning: #d4a845;        /* Caution, at benchmark (matches brand) */
            --color-warning-muted: rgba(212, 168, 69, 0.15);
            --color-danger: #d45745;         /* Below benchmark, errors, destructive */
            --color-danger-muted: rgba(212, 87, 69, 0.15);

            /* Badge colors - distinct for each compensation type */
            --badge-merit-bg: rgba(69, 212, 138, 0.2);
            --badge-merit-text: #45d48a;
            --badge-promotion-bg: rgba(167, 139, 250, 0.2);
            --badge-promotion-text: #A78BFA;
            --badge-equity-bg: rgba(69, 152, 212, 0.2);
            --badge-equity-text: #4598d4;
            --badge-newhire-bg: rgba(212, 168, 69, 0.2);
            --badge-newhire-text: #d4a845;

            /* Legacy aliases (for gradual migration) */
            --accent-primary: var(--color-brand);
            --accent-secondary: var(--color-success);
            --accent-tertiary: var(--color-info);
            --accent-warning: var(--color-danger);

            /* Borders */
            --border-color: #2a2a2d;
            --border-accent: #3a3a3d;
            --border-focus: var(--color-brand);

            /* Charts - green for growth, gold for highlights */
            --chart-grid: rgba(255, 255, 255, 0.06);
            --chart-line-1: var(--color-success);
            --chart-line-2: var(--color-brand);
            --chart-fill-1: var(--color-success-muted);
            --chart-fill-2: var(--color-brand-muted);

            /* Typography */
            --font-display: 'Space Grotesk', sans-serif;
            --font-body: 'Space Grotesk', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            /* Theme-specific radius (sharper for tactical) */
            --radius-sm: var(--radius-xs);
            --radius-md: var(--radius-sm);
            --radius-lg: var(--radius-md);

            /* Shadows & effects */
            --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.4);
            --shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.6);
            --glow-primary: 0 0 20px rgba(212, 168, 69, 0.3);
            --glow-secondary: 0 0 20px rgba(69, 212, 138, 0.3);

            /* Tooltips */
            --tooltip-bg: #1a1a1d;
            --tooltip-border: #3a3a3d;

            /* Text on colored backgrounds (inverse) */
            --text-inverse: #0a0a0b;
            --text-on-brand: #0a0a0b;
            --text-on-success: #0a0a0b;
            --text-on-danger: #0a0a0b;

            /* Overlay */
            --overlay-bg: rgba(0, 0, 0, 0.5);

            /* Browser mockup colors */
            --browser-titlebar-bg: linear-gradient(180deg, #2a2a2d 0%, #1f1f22 100%);
            --browser-titlebar-border: #3a3a3d;
            --browser-content-bg: #1a1a1d;
            --traffic-light-close: #ff5f57;
            --traffic-light-minimize: #febc2e;
            --traffic-light-maximize: #28c840;

            /* Background patterns */
            --pattern-grid-color: rgba(212, 168, 69, 0.02);
            --pattern-grid-size: 50px;

            /* ===== BUTTON TOKENS (#105) ===== */
            --btn-primary-bg: var(--color-brand);
            --btn-primary-text: var(--bg-primary);
            --btn-primary-hover-bg: var(--color-brand-hover);
            --btn-primary-hover-shadow: var(--glow-primary);

            --btn-secondary-bg: transparent;
            --btn-secondary-text: var(--text-secondary);
            --btn-secondary-border: var(--border-color);
            --btn-secondary-hover-border: var(--color-brand);
            --btn-secondary-hover-text: var(--color-brand);

            --btn-success-bg: transparent;
            --btn-success-text: var(--color-success);
            --btn-success-border: var(--color-success);
            --btn-success-hover-bg: var(--color-success);
            --btn-success-hover-text: var(--bg-primary);

            --btn-danger-bg: transparent;
            --btn-danger-text: var(--color-danger);
            --btn-danger-border: var(--color-danger);
            --btn-danger-hover-bg: var(--color-danger);
            --btn-danger-hover-text: var(--bg-primary);

            --btn-ghost-bg: transparent;
            --btn-ghost-text: var(--text-muted);
            --btn-ghost-hover-text: var(--color-brand);
            --btn-ghost-hover-bg: var(--bg-hover);
        }

        /* ARTISTIC THEME (Light - Sage & Ember) */
        [data-theme="artistic"] {
            /* ===== SEMANTIC COLORS (#101) ===== */
            /* Background hierarchy */
            --bg-primary: #FAF9F7;
            --bg-secondary: #FFFFFF;
            --bg-tertiary: #F5F3F0;
            --bg-card: #FFFFFF;
            --bg-hover: #F0EDE8;
            --bg-elevated: #FFFFFF;

            /* Text hierarchy */
            --text-primary: #1C1917;
            --text-secondary: #57534E;
            --text-muted: #78716C;  /* WCAG AA compliant: 4.8:1 */

            /* Brand colors - ember is primary action/emphasis */
            --color-brand: #D35400;
            --color-brand-hover: #C2410C;
            --color-brand-muted: rgba(211, 84, 0, 0.12);

            /* Semantic colors - each has distinct purpose */
            --color-success: #16A34A;        /* Positive metrics, above benchmark (green) */
            --color-success-muted: rgba(22, 163, 74, 0.12);
            --color-info: #2563EB;           /* Neutral info, tertiary actions (blue) */
            --color-info-muted: rgba(37, 99, 235, 0.12);
            --color-warning: #D97706;        /* Caution, at benchmark (amber) */
            --color-warning-muted: rgba(217, 119, 6, 0.12);
            --color-danger: #DC2626;         /* Below benchmark, errors, destructive (red) */
            --color-danger-muted: rgba(220, 38, 38, 0.12);

            /* Badge colors - distinct for each compensation type */
            --badge-merit-bg: rgba(132, 204, 22, 0.15);
            --badge-merit-text: #4D7C0F;
            --badge-promotion-bg: rgba(139, 92, 246, 0.15);
            --badge-promotion-text: #6D28D9;
            --badge-equity-bg: rgba(6, 182, 212, 0.15);
            --badge-equity-text: #0E7490;
            --badge-newhire-bg: rgba(245, 158, 11, 0.15);
            --badge-newhire-text: #B45309;

            /* Legacy aliases (for gradual migration) */
            --accent-primary: var(--color-brand);
            --accent-secondary: var(--color-success);
            --accent-tertiary: var(--color-info);
            --accent-warning: var(--color-danger);

            /* Borders */
            --border-color: #E7E5E4;
            --border-accent: #D6D3D1;
            --border-focus: var(--color-brand);

            /* Charts - green for growth/timeline, brand for highlights */
            --chart-grid: rgba(0, 0, 0, 0.06);
            --chart-line-1: var(--color-success);
            --chart-line-2: var(--color-brand);
            --chart-fill-1: var(--color-success-muted);
            --chart-fill-2: var(--color-brand-muted);

            /* Typography */
            --font-display: 'Space Grotesk', sans-serif;
            --font-body: 'Space Grotesk', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            /* Theme-specific radius (rounder for artistic) */
            --radius-sm: var(--radius-md);
            --radius-md: var(--radius-lg);
            --radius-lg: var(--radius-xl);

            /* Shadows & effects */
            --shadow-card: 0 4px 20px rgba(28, 25, 23, 0.08);
            --shadow-hover: 0 8px 30px rgba(28, 25, 23, 0.12);
            --glow-primary: none;
            --glow-secondary: none;

            /* Tooltips */
            --tooltip-bg: #FFFFFF;
            --tooltip-border: #E7E5E4;

            /* Text on colored backgrounds (inverse) */
            --text-inverse: #FFFFFF;
            --text-on-brand: #FFFFFF;
            --text-on-success: #FFFFFF;
            --text-on-danger: #FFFFFF;

            /* Overlay */
            --overlay-bg: rgba(0, 0, 0, 0.5);

            /* Browser mockup colors */
            --browser-titlebar-bg: linear-gradient(180deg, #E8E6E3 0%, #D4D2CF 100%);
            --browser-titlebar-border: #C4C2BF;
            --browser-content-bg: #e5e5e5;
            --traffic-light-close: #ff5f57;
            --traffic-light-minimize: #febc2e;
            --traffic-light-maximize: #28c840;

            /* Background patterns */
            --pattern-gradient-1: rgba(211, 84, 0, 0.03);
            --pattern-gradient-2: rgba(22, 163, 74, 0.03);

            /* Landing page gradients */
            --landing-gradient-start: #FFF5EB;
            --landing-gradient-end: #FFE4CC;

            /* ===== BUTTON TOKENS (#105) ===== */
            --btn-primary-bg: var(--color-brand);
            --btn-primary-text: var(--text-inverse);
            --btn-primary-hover-bg: var(--color-brand-hover);
            --btn-primary-hover-shadow: 0 4px 12px rgba(211, 84, 0, 0.3);

            --btn-secondary-bg: transparent;
            --btn-secondary-text: var(--text-secondary);
            --btn-secondary-border: var(--border-color);
            --btn-secondary-hover-border: var(--color-brand);
            --btn-secondary-hover-text: var(--color-brand);

            --btn-success-bg: transparent;
            --btn-success-text: var(--color-success);
            --btn-success-border: var(--color-success);
            --btn-success-hover-bg: var(--color-success);
            --btn-success-hover-text: var(--text-on-success);

            --btn-danger-bg: transparent;
            --btn-danger-text: var(--color-danger);
            --btn-danger-border: var(--color-danger);
            --btn-danger-hover-bg: var(--color-danger);
            --btn-danger-hover-text: var(--text-on-danger);

            --btn-ghost-bg: transparent;
            --btn-ghost-text: var(--text-muted);
            --btn-ghost-hover-text: var(--color-brand);
            --btn-ghost-hover-bg: var(--bg-hover);
        }

        /* ========================================
           BASE STYLES
           ======================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background var(--transition-speed), color var(--transition-speed);
            min-height: 100vh;
        }

        [data-theme="tactical"] body {
            background-image:
                linear-gradient(var(--pattern-grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--pattern-grid-color) 1px, transparent 1px);
            background-size: var(--pattern-grid-size) var(--pattern-grid-size);
        }

        [data-theme="artistic"] body {
            background-image: radial-gradient(circle at 100% 0%, var(--pattern-gradient-1) 0%, transparent 50%),
                              radial-gradient(circle at 0% 100%, var(--pattern-gradient-2) 0%, transparent 50%);
        }

        /* Tabular numbers for proper alignment in financial data */
        [style*="font-family: var(--font-mono)"],
        .font-mono,
        code,
        pre,
        .kpi-value,
        .stat-value,
        .salary-amount,
        .percentage,
        .currency {
            font-variant-numeric: tabular-nums lining-nums;
        }

        /* ========================================
           LANDING PAGE STYLES
           New design with before/after slider
           ======================================== */

        .landing-page {
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Landing Header */
        .landing-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-3) var(--space-8);
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
            background: var(--bg-card);
        }

        .landing-logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .landing-logo-icon {
            width: var(--size-logo);
            height: var(--size-logo);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            transform: rotate(-3deg);
            position: relative;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            cursor: default;
        }

        .landing-logo-icon::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            padding: 2px;
            background: linear-gradient(
                135deg,
                var(--color-brand) 0%,
                var(--color-success) 50%,
                var(--color-info) 100%
            );
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .landing-logo-icon:hover {
            transform: rotate(-3deg) scale(1.08);
        }

        .landing-logo-icon:hover::before {
            opacity: 1;
        }

        [data-theme="tactical"] .landing-logo-icon {
            background: linear-gradient(135deg, var(--color-brand), var(--color-brand-hover));
            color: var(--text-inverse);
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.2);
        }

        [data-theme="tactical"] .landing-logo-icon:hover {
            box-shadow: 0 4px 16px rgba(255, 193, 7, 0.4);
        }

        [data-theme="artistic"] .landing-logo-icon {
            background: var(--color-brand);
            color: var(--text-inverse);
            box-shadow: 0 2px 8px rgba(247, 127, 0, 0.2);
        }

        [data-theme="artistic"] .landing-logo-icon:hover {
            box-shadow: 0 4px 16px rgba(247, 127, 0, 0.4);
        }

        .landing-logo-text {
            font-size: var(--font-size-base);
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .landing-logo:hover .landing-logo-text {
            color: var(--color-brand);
        }

        .landing-header-right {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .privacy-note {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .privacy-note svg {
            width: 1rem;
            height: 1rem;
            color: var(--color-success);
        }

        /* Main Layout - 1/3 + 2/3 */
        .landing-main {
            flex: 1;
            display: grid;
            grid-template-columns: minmax(320px, 1fr) 2fr;
            min-height: 0;
        }

        @media (max-width: 1100px) {
            .landing-main {
                grid-template-columns: 1fr;
                overflow-y: auto;
            }
        }

        /* Left Column - Marketing/CTA */
        .landing-left {
            padding: var(--space-8) var(--space-10) var(--space-8) var(--space-6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            text-align: right;
            background: var(--bg-card);
        }

        @media (max-width: 1100px) {
            .landing-left {
                padding: var(--space-6);
                align-items: center;
                text-align: center;
            }
        }

        /* Editorial Headline */
        .landing-headline {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            line-height: 1.05;
            margin-bottom: var(--space-4);
            letter-spacing: -0.02em;
        }

        .landing-headline em {
            font-style: normal;
            background: linear-gradient(135deg, var(--color-brand), var(--color-warning));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        [data-theme="tactical"] .landing-headline em {
            background: linear-gradient(135deg, var(--color-brand), var(--color-success));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .landing-subheadline {
            font-size: var(--font-size-md);
            color: var(--text-secondary);
            margin-bottom: var(--space-6);
            line-height: 1.5;
        }

        /* Feature Chips - Interactive preview buttons */
        .features-label {
            font-size: var(--font-size-xs);
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--space-2);
        }

        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            width: 100%;
        }

        .feature-chip {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-3);
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-speed);
            min-height: 44px;
        }

        .feature-chip:hover {
            border-color: var(--color-brand);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .feature-chip.active {
            background: var(--color-brand);
            border-color: var(--color-brand);
            box-shadow: var(--shadow-hover);
        }

        .feature-chip.active .chip-title,
        .feature-chip.active .chip-desc {
            color: var(--text-on-brand);
        }

        .feature-chip.active .chip-icon {
            color: var(--text-on-brand);
        }

        .feature-chip.active .chip-desc {
            opacity: 0.85;
        }

        .chip-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-brand);
        }

        .chip-icon svg {
            width: 24px;
            height: 24px;
        }

        .chip-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }

        .chip-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            white-space: nowrap;  /* #121: Prevent awkward title breaks */
        }

        .chip-desc {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            line-height: 1.3;
            white-space: nowrap;  /* #121: Prevent awkward description breaks */
        }

        /* How it works - inline steps */
        .how-it-works {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        @media (max-width: 1100px) {
            .how-it-works {
                justify-content: center;
            }
        }

        .how-step {
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .how-num {
            width: var(--size-badge);
            height: var(--size-badge);
            background: var(--color-brand);
            color: var(--text-on-brand);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-xs);
            font-weight: 700;
        }

        .how-arrow {
            color: var(--text-muted);
            font-size: var(--font-size-md);
            margin: 0 var(--space-1);
        }

        /* CTA Row */
        .cta-row {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: var(--space-3);
        }

        @media (max-width: 1100px) {
            .cta-row {
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        /* Landing page buttons - specialized styles with push effect */
        .btn-landing-primary {
            padding: var(--space-3) var(--space-6);
            background: var(--color-brand);
            color: var(--text-on-brand);
            border: none;
            border-radius: var(--radius-btn);  /* 6px per #106 */
            font-family: var(--font-body);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            min-height: var(--size-touch-target);
            box-shadow: 0 4px 0 var(--color-brand-hover);
            transition: all 0.15s;
        }

        .btn-landing-primary:hover {
            transform: translateY(2px);
            box-shadow: 0 2px 0 var(--color-brand-hover);
        }

        .btn-landing-secondary {
            padding: var(--space-3) var(--space-5);
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: var(--radius-btn);  /* 6px per #106 */
            font-family: var(--font-body);
            font-size: var(--font-size-base);
            cursor: pointer;
            min-height: var(--size-touch-target);
            transition: all var(--transition-speed);
        }

        .btn-landing-secondary:hover {
            border-color: var(--color-brand);
            color: var(--color-brand);
        }

        /* Right Column - Browser Mockup with Slider */
        .landing-right {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-3);
        }

        [data-theme="artistic"] .landing-right {
            background: linear-gradient(180deg, #FFF5EB 0%, #FFE4CC 100%);
        }

        [data-theme="tactical"] .landing-right {
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
        }

        @media (max-width: 1100px) {
            .landing-right {
                padding: var(--space-4);
                min-height: 60vh;
            }
        }

        .slider-wrapper {
            width: 98%;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .slider-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .slider-tab-indicator {
            padding: var(--space-1) var(--space-3);
            background: var(--color-brand);
            color: var(--text-on-brand);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-weight: 600;
            transition: all var(--transition-speed);
        }

        /* Browser Window Frame */
        .browser-window {
            display: flex;
            flex-direction: column;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-hover);
        }

        .browser-titlebar {
            display: flex;
            align-items: center;
            padding: var(--space-3) var(--space-4);
            background: var(--browser-titlebar-bg);
            border-bottom: 1px solid var(--browser-titlebar-border);
            gap: var(--space-3);
        }

        .traffic-lights {
            display: flex;
            gap: var(--space-2);
        }

        .traffic-light {
            width: 12px;
            height: 12px;
            border-radius: var(--radius-full);
        }

        .traffic-light.red { background: var(--traffic-light-close); }
        .traffic-light.yellow { background: var(--traffic-light-minimize); }
        .traffic-light.green { background: var(--traffic-light-maximize); }

        .browser-url {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-card);
            border-radius: var(--radius-sm);
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            border: 1px solid var(--border-color);
        }

        .browser-url-icon {
            margin-right: var(--space-2);
            color: var(--color-success);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            padding: var(--space-2) 0;
            font-size: var(--font-size-xs);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .slider-label.before {
            color: var(--text-muted);
        }

        .slider-label.after {
            color: var(--color-brand);
        }

        .browser-content {
            position: relative;
            background: var(--browser-content-bg);
            aspect-ratio: 2692 / 1316;
        }

        [data-theme="tactical"] .browser-content {
            background: var(--bg-tertiary);
        }

        /* Image Comparison Slider Styles */
        img-comparison-slider {
            width: 100%;
            height: 100%;
            --divider-width: 4px;
            --divider-color: var(--color-brand);
        }

        img-comparison-slider img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #e5e5e5;
            transition: opacity 0.15s ease;
        }

        [data-theme="tactical"] img-comparison-slider img {
            background: var(--bg-tertiary);
        }

        /* Custom slider handle */
        .custom-handle {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background: var(--color-brand);
            border-radius: var(--radius-full);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            cursor: ew-resize;
            border: 3px solid white;
        }

        .custom-handle svg {
            width: var(--size-icon-sm);
            height: var(--size-icon-sm);
            color: var(--text-on-brand);
        }

        /* ========================================
           IMPORT MODAL
           ======================================== */

        .import-modal {
            display: none;
            position: fixed;
            inset: 0;
            background: var(--overlay-bg);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
        }

        .import-modal.visible {
            display: flex;
        }

        .import-modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .import-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4) var(--space-6);
            border-bottom: 1px solid var(--border-color);
        }

        .import-modal-header h2 {
            font-family: var(--font-display);
            font-size: var(--font-size-lg);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin: 0;
        }

        .import-modal-header h2 svg {
            width: 1.25rem;
            height: 1.25rem;
            color: var(--color-brand);
        }

        .header-privacy-note {
            display: flex;
            align-items: center;
            gap: var(--space-1);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-left: auto;
            margin-right: var(--space-4);
        }

        .header-privacy-note svg {
            width: 0.875rem;
            height: 0.875rem;
            color: var(--color-success);
        }

        .import-modal-close {
            background: none;
            border: none;
            font-size: var(--font-size-lg);
            color: var(--text-muted);
            cursor: pointer;
            padding: var(--space-2);
            line-height: 1;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .import-modal-close:hover {
            color: var(--text-primary);
        }

        .import-modal-body {
            padding: var(--space-4);
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        /* Instructions Box (reused from old design) */
        .instructions-box {
            padding: var(--space-3) var(--space-4);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
        }

        .instructions-box .instructions-title {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: var(--space-2);
        }

        .instructions-list {
            margin: 0;
            padding-left: var(--space-5);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .instructions-list li {
            margin-bottom: var(--space-1);
            padding-left: var(--space-1);
        }

        .instructions-list li:last-child {
            margin-bottom: 0;
        }

        .instructions-list code {
            background: var(--bg-primary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            color: var(--color-brand);
        }

        .instructions-list kbd {
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
        }

        /* Paste Area */
        .paste-area {
            display: flex;
            flex-direction: column;
        }

        .paste-area label {
            display: block;
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: var(--space-2);
        }

        .paste-area textarea {
            width: 100%;
            min-height: 140px;
            max-height: 300px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-input);  /* 6px per #106 */
            padding: var(--space-4);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            line-height: 1.4;
            resize: vertical;
            transition: border-color var(--transition-speed);
        }

        .paste-area textarea:focus {
            border-color: var(--color-brand);
            outline: 2px solid var(--color-brand);
            outline-offset: 0;
        }

        .paste-area textarea::placeholder {
            color: var(--text-muted);
        }

        /* Validation Message */
        .validation-message {
            margin-top: var(--space-3);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-sm);
            font-family: var(--font-mono);
            display: none;
        }

        .validation-message.visible {
            display: block;
        }

        .validation-message.success {
            background: var(--color-success-muted);
            border: 1px solid var(--color-success);
            color: var(--color-success);
        }

        .validation-message.error {
            background: var(--color-danger-muted);
            border: 1px solid var(--color-danger);
            color: var(--color-danger);
        }

        .validation-message.warning {
            background: var(--color-warning-muted);
            border: 1px solid var(--color-warning);
            color: var(--color-warning);
        }

        /* Import Modal Footer */
        .import-modal-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-4) var(--space-6);
            border-top: 1px solid var(--border-color);
            gap: var(--space-4);
            flex-wrap: wrap;
        }

        .import-modal-footer .alt-data-action {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .btn-text-alt {
            background: none;
            border: none;
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            padding: var(--space-2);
            cursor: pointer;
            transition: color var(--transition-speed);
            text-decoration: underline;
            text-underline-offset: 2px;
        }

        .btn-text-alt:hover {
            color: var(--color-brand);
        }

        /* Privacy callout in modal */
        .privacy-callout {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: var(--color-success-muted);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            color: var(--color-success);
        }

        .privacy-callout-icon svg {
            width: 1rem;
            height: 1rem;
        }

        .privacy-callout-text strong {
            color: var(--text-primary);
        }

        /* Legal notice in modal */
        .legal-callout {
            display: flex;
            align-items: flex-start;
            gap: var(--space-2);
            padding: 0;
            background: transparent;
            border: none;
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            margin-bottom: 0;
        }

        [data-theme="artistic"] .legal-callout {
            background: transparent;
            border: none;
        }

        .legal-callout-icon {
            flex-shrink: 0;
            font-size: var(--font-size-lg);
            line-height: 1;
        }

        .legal-callout-content {
            flex: 1;
        }

        .legal-callout-title {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .legal-callout-text {
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: var(--space-2);
        }

        .legal-callout-text p {
            margin: 0 0 var(--space-2) 0;
        }

        .legal-callout-text p:last-child {
            margin-bottom: 0;
        }

        /* Legal consent checkbox - premium custom styling */
        .legal-consent {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            padding: 0;
            cursor: pointer;
            position: relative;
        }

        /* Hide native checkbox but keep accessible */
        .legal-consent input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            width: 20px;
            height: 20px;
            margin: 0;
            cursor: pointer;
        }

        /* Label with space for custom checkbox */
        .legal-consent label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            cursor: pointer;
            user-select: none;
            position: relative;
            padding-left: 32px;
            display: inline-block;
            transition: color var(--transition-speed);
        }

        /* Custom checkbox box */
        .legal-consent label::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-accent);
            border-radius: var(--radius-sm);
            background: var(--bg-secondary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Custom checkmark */
        .legal-consent label::after {
            content: '';
            position: absolute;
            left: 7px;
            top: 3px;
            transform: scale(0) rotate(45deg);
            width: 5px;
            height: 10px;
            border: solid var(--text-on-brand);
            border-width: 0 3px 3px 0;
            opacity: 0;
            transition: all 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* Hover state */
        .legal-consent:hover label::before {
            border-color: var(--color-brand);
            box-shadow: 0 0 0 3px var(--color-brand-muted);
        }

        /* Checked state - checkbox box */
        .legal-consent input[type="checkbox"]:checked ~ label::before {
            background: var(--color-brand);
            border-color: var(--color-brand);
            box-shadow: 0 2px 8px var(--color-brand-muted),
                        0 0 0 3px var(--color-brand-muted);
        }

        /* Checked state - checkmark animation */
        .legal-consent input[type="checkbox"]:checked ~ label::after {
            opacity: 1;
            transform: scale(1) rotate(45deg);
        }

        /* Checked state - label emphasis */
        .legal-consent input[type="checkbox"]:checked ~ label {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Focus state for accessibility */
        .legal-consent input[type="checkbox"]:focus ~ label::before {
            outline: 2px solid var(--color-brand);
            outline-offset: 2px;
        }

        /* Landing page footer disclaimer */
        .landing-footer {
            padding: var(--space-6) var(--space-4);
            text-align: center;
            font-size: var(--font-size-xs);
            color: var(--text-tertiary);
            border-top: 1px solid var(--border-subtle);
        }

        .landing-footer p {
            margin: 0;
            line-height: 1.6;
        }

        .landing-footer a {
            color: var(--text-secondary);
            text-decoration: underline;
        }

        .landing-footer a:hover {
            color: var(--color-brand);
        }

        .feedback-link-container {
            margin-top: var(--space-4);
            padding-top: var(--space-3);
            border-top: 1px solid var(--border-subtle);
        }

        .feedback-link {
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* ===== BUTTON SYSTEM (#105) ===== */
        /*
         * Unified button system with 3 semantic levels:
         * - Primary: Filled background, main CTAs (orange)
         * - Secondary: Outline, alternative actions (orange border)
         * - Ghost/Tertiary: Minimal, low-emphasis actions (gray)
         * Plus semantic variants: success (green), danger (red)
         */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-btn);  /* 6px per #106 */
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-speed);
            border: 1px solid transparent;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            white-space: nowrap;
            min-height: 44px; /* WCAG touch target */
        }

        /* Primary: Main CTA actions (Generate, Submit) */
        .btn-primary {
            background: var(--btn-primary-bg);
            color: var(--btn-primary-text);
            border-color: var(--btn-primary-bg);
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--btn-primary-hover-bg);
            border-color: var(--btn-primary-hover-bg);
            box-shadow: var(--btn-primary-hover-shadow);
            transform: translateY(-1px);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Secondary: Alternate actions (Cancel, Back) */
        .btn-secondary {
            background: var(--btn-secondary-bg);
            color: var(--btn-secondary-text);
            border-color: var(--btn-secondary-border);
            padding: var(--space-2) var(--space-4);
        }

        .btn-secondary:hover {
            border-color: var(--btn-secondary-hover-border);
            color: var(--btn-secondary-hover-text);
        }

        /* Success: Positive actions (Save, Download, Confirm) */
        .btn-success {
            background: var(--btn-success-bg);
            border: 1px solid var(--btn-success-border);
            color: var(--btn-success-text);
            padding: var(--space-2) var(--space-4);
        }

        .btn-success:hover {
            background: var(--btn-success-hover-bg);
            color: var(--btn-success-hover-text);
        }

        /* Danger: Destructive actions (Delete, Reset, Clear) */
        .btn-danger {
            background: var(--btn-danger-bg);
            border: 1px solid var(--btn-danger-border);
            color: var(--btn-danger-text);
            padding: var(--space-2) var(--space-4);
        }

        .btn-danger:hover {
            background: var(--btn-danger-hover-bg);
            color: var(--btn-danger-hover-text);
        }

        /* Ghost: Low-emphasis actions (links, tertiary) */
        .btn-ghost {
            background: var(--btn-ghost-bg);
            color: var(--btn-ghost-text);
            border: none;
            padding: var(--space-2) var(--space-3);
        }

        .btn-ghost:hover {
            color: var(--btn-ghost-hover-text);
            background: var(--btn-ghost-hover-bg);
        }

        /* Size modifiers */
        .btn-sm {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-xs);
            min-height: 36px;
        }

        .btn-lg {
            padding: var(--space-4) var(--space-8);
            font-size: var(--font-size-base);
            min-height: 52px;
        }

        /* Legacy alias */
        .btn-compact {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-xs);
        }

        /* ========================================
           USER MESSAGE BANNERS (#174)
           Fixed notification banners for errors, warnings, success, info
           ======================================== */

        .user-message {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10000;
            padding: var(--space-4) var(--space-8);
            color: white;
            text-align: center;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .user-message--error { background: var(--color-danger); }
        .user-message--warning { background: var(--color-warning); }
        .user-message--success { background: var(--color-success); }
        .user-message--info { background: var(--color-info); }

        .user-message-dismiss {
            background: transparent;
            border: none;
            color: white;
            font-size: var(--font-size-lg);
            cursor: pointer;
            padding: 0 var(--space-2);
            margin-left: var(--space-4);
            min-width: var(--size-touch-target);
            min-height: var(--size-touch-target);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-message-dismiss:hover { opacity: 0.8; }

        /* ========================================
           STALE DATA WARNING TOAST (#174)
           Dismissible notification for stale CPI data
           ======================================== */

        .stale-data-warning {
            position: fixed;
            bottom: var(--space-4);
            right: var(--space-4);
            z-index: 9000;
            padding: var(--space-3) var(--space-4);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            box-shadow: var(--shadow-card);
            max-width: 360px;
        }

        .stale-warning-icon {
            color: var(--color-warning);
            font-size: var(--font-size-md);
            display: flex;
            align-items: center;
        }

        .stale-warning-link {
            color: var(--color-brand);
            text-decoration: none;
            margin-left: var(--space-1);
        }

        .stale-warning-link:hover { text-decoration: underline; }

        .stale-warning-dismiss {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: var(--font-size-md);
            cursor: pointer;
            padding: 0 var(--space-1);
            margin-left: var(--space-2);
            opacity: 0.7;
            transition: opacity var(--transition-speed);
            min-width: var(--size-touch-target);
            min-height: var(--size-touch-target);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stale-warning-dismiss:hover { opacity: 1; }

        .help-note {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .animate-delay-500 {
            animation-delay: 0.5s;
        }

        .chart-wrapper-250 {
            height: 250px;
        }

        .file-input {
            display: none;
        }

        /* Theme toggle on landing */
        .landing-theme-toggle {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .landing-theme-btn {
            padding: var(--space-2) var(--space-3);
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            min-height: 36px;
        }

        .landing-theme-btn.active {
            background: var(--color-brand);
            color: var(--text-on-brand);
        }

        /* ========================================
           DESKTOP BLOCK OVERLAY (#146)
           Full-screen block for viewports < 1280px
           ======================================== */

        .desktop-block-overlay {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: var(--space-8);
            background: var(--bg-primary);
        }

        .desktop-block-overlay.active {
            display: flex;
        }

        .desktop-block-card {
            max-width: 420px;
            width: 100%;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-modal);
            overflow: hidden;
        }

        .desktop-block-header {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-5);
            border-bottom: 1px solid var(--border-color);
        }

        .desktop-block-icon {
            width: 44px;
            height: 44px;
            background: var(--color-brand-muted);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .desktop-block-icon svg {
            width: 22px;
            height: 22px;
            color: var(--color-brand);
        }

        .desktop-block-header-text h1 {
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .desktop-block-status {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            color: var(--color-warning);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: var(--space-1);
        }

        .desktop-block-body {
            padding: var(--space-5);
        }

        .desktop-block-message {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.6;
            margin: 0 0 var(--space-5);
        }

        .desktop-block-requirements {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
        }

        .desktop-block-req-row {
            display: flex;
            justify-content: space-between;
            padding: var(--space-2) 0;
            color: var(--text-muted);
        }

        .desktop-block-req-row:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }

        .desktop-block-req-value {
            color: var(--color-info);
            font-weight: 500;
        }

        .desktop-block-req-row.current .desktop-block-req-value {
            color: var(--color-danger);
        }

        .desktop-block-req-row.recommended .desktop-block-req-value {
            color: var(--color-success);
        }

        .desktop-block-hint {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-top: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .desktop-block-hint svg {
            width: 14px;
            height: 14px;
            flex-shrink: 0;
        }

        /* ========================================
           TOOLTIP STYLES
           ======================================== */
        
        .info-tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            cursor: help;
            margin-left: 6px;
            font-family: var(--font-mono);
            font-weight: 600;
            vertical-align: middle;
            flex-shrink: 0;
        }

        .info-tooltip::before {
            content: '?';
        }

        .info-tooltip .tip-text {
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            background: var(--tooltip-bg);
            color: var(--text-primary);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: 400;
            line-height: 1.5;
            width: max-content;
            max-width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            border: 1px solid var(--tooltip-border);
            box-shadow: var(--shadow-card);
            z-index: 9999;
            font-family: var(--font-body);
            text-align: left;
            white-space: normal;
            pointer-events: none;
        }

        .info-tooltip .tip-text::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: var(--tooltip-border);
        }

        .info-tooltip:hover .tip-text {
            opacity: 1;
            visibility: visible;
        }

        .info-tooltip.tip-left .tip-text {
            left: auto;
            right: 0;
            transform: none;
        }

        .info-tooltip.tip-left .tip-text::after {
            left: auto;
            right: 10px;
            transform: none;
        }

        .info-tooltip.tip-right .tip-text {
            left: 0;
            transform: none;
        }

        .info-tooltip.tip-right .tip-text::after {
            left: 10px;
            transform: none;
        }

        /* ========================================
           DEMO BANNER - #104: Subtle but distinct, #114: Stronger visual distinction
           ======================================== */

        .demo-banner {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
            padding: var(--space-2) var(--space-4);
            background: color-mix(in srgb, var(--color-warning) 15%, var(--bg-primary));
            border-bottom: 1px solid color-mix(in srgb, var(--color-warning) 40%, transparent);
            border-left: 4px solid var(--color-warning);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            position: sticky;
            top: 0;
            z-index: 200;
        }

        .demo-banner.hidden {
            display: none;
        }

        .demo-banner-icon {
            font-size: var(--font-size-base);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .demo-banner-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--color-warning);
        }

        .demo-banner-text {
            text-align: center;
        }

        .demo-banner-text strong {
            font-weight: 700;
            color: var(--color-warning);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .demo-banner-close {
            background: transparent;
            border: 1px solid color-mix(in srgb, var(--color-warning) 40%, transparent);
            color: var(--text-muted);
            width: 44px;
            height: 44px;
            min-width: 44px;  /* WCAG 2.2 AA minimum touch target */
            min-height: 44px;
            border-radius: var(--radius-full);
            cursor: pointer;
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-speed);
            flex-shrink: 0;
        }

        .demo-banner-close:hover {
            border-color: var(--color-danger);
            color: var(--color-danger);
            background: color-mix(in srgb, var(--color-danger) 10%, transparent);
        }

        .demo-regenerate-btn {
            background: var(--color-brand);
            border: none;
            color: var(--text-on-brand);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-1);
            transition: all var(--transition-speed);
            white-space: nowrap;
            min-height: 32px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .demo-regenerate-btn svg {
            width: 0.875rem;
            height: 0.875rem;
        }

        .demo-regenerate-btn:hover {
            background: var(--color-brand-hover);
            color: var(--text-on-brand);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
            transform: translateY(-1px);
        }

        /* ========================================
           HEADER
           ======================================== */
        
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: var(--space-4) var(--space-8);
            position: sticky;
            top: 0;
            z-index: 300;
            backdrop-filter: blur(10px);
        }

        [data-theme="tactical"] .header {
            background: rgba(17, 17, 19, 0.95);
        }

        [data-theme="artistic"] .header {
            background: rgba(255, 255, 255, 0.95);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-4);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .logo-icon {
            width: var(--size-icon-xl);
            height: var(--size-icon-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            background: linear-gradient(135deg, var(--color-brand), var(--color-brand-hover));
            color: var(--text-on-brand);
            position: relative;
            transition: all 0.3s ease;
            cursor: default;
        }

        .logo-icon::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            padding: 2px;
            background: linear-gradient(
                135deg,
                var(--color-brand) 0%,
                var(--color-success) 50%,
                var(--color-info) 100%
            );
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .logo-icon:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .logo-icon:hover::before {
            opacity: 1;
        }

        .logo-text h1 {
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            font-weight: 600;
            letter-spacing: -0.02em;
            transition: color 0.3s ease;
        }

        [data-theme="tactical"] .logo-text h1 {
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: var(--font-size-base);
        }

        .logo:hover .logo-text h1 {
            color: var(--color-brand);
        }

        .logo-text span {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        .header-controls {
            display: flex;
            gap: var(--space-3);
            align-items: center;
            flex-wrap: wrap;
        }

        .theme-switcher {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .theme-btn {
            padding: var(--space-2) var(--space-3);
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .theme-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .theme-btn:hover:not(.active) {
            background: var(--bg-hover);
        }

        .view-switcher {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .view-btn {
            padding: var(--space-2) var(--space-3);
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .view-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .view-btn:hover:not(.active) {
            background: var(--bg-hover);
        }

        /* ========================================
           KEYBOARD SHORTCUTS HINT
           ======================================== */
        
        .keyboard-hint {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-2) var(--space-3);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            box-shadow: var(--shadow-card);
            z-index: 50;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .keyboard-hint:hover {
            opacity: 1;
        }

        .keyboard-hint kbd {
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-badge);  /* 4px per #106 */
            border: 1px solid var(--border-color);
            margin: 0 0.15rem;
        }

        /* ========================================
           MAIN CONTAINER
           ======================================== */
        
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-6);
            transition: max-width 0.3s ease;
        }

        /* ========================================
           ANIMATIONS
           ======================================== */
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUpFade {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: slideUpFade 0.6s ease forwards;
            opacity: 0;
        }

        .animate-delay-1 { animation-delay: 0.1s; }
        .animate-delay-2 { animation-delay: 0.2s; }
        .animate-delay-3 { animation-delay: 0.3s; }
        .animate-delay-4 { animation-delay: 0.4s; }

        /* ========================================
           HERO METRICS - #69: Improved typography and spacing
           ======================================== */

        .hero-section {
            margin-bottom: var(--space-6);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        @media (max-width: 1024px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }

        .metric-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);  /* 8px per #106 */
            padding: var(--space-6);  /* #69: Increased from space-5/space-6 to uniform space-6 (24px) */
            position: relative;
        }

        [data-theme="tactical"] .metric-card {
            box-shadow: var(--shadow-card);
        }

        [data-theme="artistic"] .metric-card {
            box-shadow: var(--shadow-card);
        }

        [data-theme="tactical"] .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), transparent);
        }

        [data-theme="artistic"] .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-primary);
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .metric-label {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: var(--space-2);
        }

        /* #69: Row layout with value left, detail right (matches Analytics tab) */
        .metric-row {
            display: flex;
            align-items: baseline;
            gap: var(--space-3);
            margin-bottom: var(--space-2);
        }

        .metric-value {
            font-family: var(--font-display);
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
            flex-shrink: 0;
            font-variant-numeric: tabular-nums;  /* #75: Keep column alignment */
        }

        .metric-value.highlight {
            color: var(--color-brand);
        }

        /* #69: Detail text now sits beside value (matches Analytics tab) */
        .metric-detail {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        /* #69: Help text replaces tooltip - always visible (matches Analytics tab) */
        .metric-help {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            line-height: 1.4;
            opacity: 0.8;
        }

        .metric-change {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            margin-top: var(--space-2);
        }

        .metric-change.positive {
            background: var(--color-success-muted);
            color: var(--color-success);
        }

        /* ========================================
           CHART CONTAINER
           ======================================== */

        .chart-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            flex-wrap: wrap;
            gap: var(--space-4);
        }

        .chart-title {
            display: flex;
            align-items: center;
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            font-weight: 600;
        }

        [data-theme="tactical"] .chart-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-sm);
        }

        /* #72, #89: Chart controls - subtle segmented button group */
        .chart-controls {
            display: inline-flex;
            gap: 0;
            background: transparent;
            border: none;
            border-radius: var(--radius-md);
            padding: 0;
        }

        /* #89: Subtle chart type toggle - less prominent than chart content */
        .chart-type-btn {
            padding: var(--space-1) var(--space-2);
            background: transparent;
            border: 1px solid transparent;
            border-radius: var(--radius-sm);
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: 10px;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            min-height: 28px;
            opacity: 0.7;
        }

        .chart-type-btn.active {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border-color: var(--border-color);
            opacity: 1;
        }

        .chart-type-btn:hover:not(.active) {
            color: var(--text-secondary);
            opacity: 1;
        }

        .chart-wrapper {
            position: relative;
            height: 360px;
        }

        /* #72: Inline chart controls positioned inside chart area */
        .chart-controls-inline {
            position: absolute;
            top: var(--space-4);  /* #139: Increased from var(--space-2) to prevent overlap with data line */
            right: var(--space-2);
            z-index: 10;
        }

        .chart-loading {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-card);
            color: var(--text-muted);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            z-index: 5;
        }

        .chart-loading.hidden {
            display: none;
        }

        .chart-loading::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            margin-right: 0.75rem;
            animation: chart-spin 0.8s linear infinite;
        }

        @keyframes chart-spin {
            to { transform: rotate(360deg); }
        }

        /* ========================================
           TABS
           ======================================== */
        
        /* ========================================
           TAB NAVIGATION (top-level)
           ======================================== */

        .tabs-nav {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0 2rem;
            margin-bottom: 1.5rem;
        }

        .tabs-nav .tabs-header {
            display: flex;
            gap: var(--space-2);
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: auto;
            overflow-y: hidden;
            border-bottom: none;
            margin-bottom: 0;
        }

        .tabs-container {
            margin-bottom: 1.5rem;
        }

        .tabs-header {
            display: flex;
            gap: var(--space-1);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1.5rem;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .tab-btn {
            padding: var(--space-4) var(--space-6);
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: var(--font-body);
            font-size: var(--font-size-md);
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all var(--transition-speed);
            white-space: nowrap;
            min-height: 44px; /* WCAG touch target */
        }

        [data-theme="tactical"] .tab-btn {
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-sm);
        }

        .tab-btn:hover {
            color: var(--text-primary);
        }

        .tab-btn.active {
            color: var(--color-brand);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--color-brand);
        }

        [data-theme="artistic"] .tab-btn.active::after {
            height: 3px;
            border-radius: var(--radius-xs) var(--radius-xs) 0 0;
        }

        /* #103: Tab shortcuts - styled as keyboard keys */
        .tab-shortcut {
            font-size: var(--font-size-xs);
            opacity: 0.4;
            margin-left: var(--space-2);
            padding: var(--space-1) var(--space-2);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xs);
            font-family: var(--font-mono);
            box-shadow: 0 1px 0 var(--border-color);
        }

        .tab-btn:hover .tab-shortcut {
            opacity: 0.6;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        /* ========================================
           STORY TAB
           ======================================== */
        
        .story-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
            overflow: hidden;
        }

        .story-header {
            padding: var(--space-8);
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-tertiary);
        }

        [data-theme="tactical"] .story-header {
            background: linear-gradient(135deg, var(--color-brand-muted), transparent);
        }

        [data-theme="artistic"] .story-header {
            background: linear-gradient(135deg, var(--color-brand-muted), var(--color-success-muted));
        }

        .story-header h2 {
            font-family: var(--font-display);
            font-size: var(--font-size-2xl);  /* #73: Increased from xl (27.6px) to 2xl (33.2px) */
            margin-bottom: var(--space-4);    /* #73: Increased from space-2 (8px) to space-4 (16px) */
        }

        [data-theme="tactical"] .story-header h2 {
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-size: var(--font-size-xl);  /* #73: Keep at xl (27.6px) instead of shrinking to md */
        }

        .story-header .subtitle {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        [data-theme="tactical"] .story-header .subtitle {
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-xs);
        }

        .story-content {
            padding: var(--space-8);
            display: flex;
            gap: var(--space-8);
            align-items: flex-start;
        }

        .story-text {
            font-size: var(--font-size-base);
            line-height: 1.9;
            color: var(--text-secondary);
            max-width: 800px;
            flex: 1;
            min-width: 0;
        }

        [data-theme="tactical"] .story-text {
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            line-height: 1.8;
        }

        [data-theme="artistic"] .story-text {
            font-family: var(--font-display);
            font-style: normal;
            font-size: var(--font-size-base);
        }

        .story-text p {
            margin-bottom: var(--space-6);
        }

        .story-text p:last-child {
            margin-bottom: 0;
        }

        .story-highlight {
            color: var(--color-brand);
            font-weight: 600;
        }

        [data-theme="artistic"] .story-highlight {
            font-style: normal;
        }

        /* #75: Story stats - softer monospace styling */
        .story-stat {
            display: inline-block;
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-size: inherit;
            font-weight: 600;
            font-style: normal;
        }

        /* #74: Milestones section - anchored below story content */
        .milestones-section {
            padding: var(--space-6) var(--space-8);
            padding-top: var(--space-5);
            border-top: 1px solid var(--border-color);
            background: var(--bg-tertiary);
        }

        .milestones-title {
            font-family: var(--font-display);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            color: var(--text-secondary);
        }

        [data-theme="tactical"] .milestones-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-xs);
        }

        .milestone-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
        }

        .milestone-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);  /* 8px per #106 */
            padding: var(--space-4);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-card);
        }

        .milestone-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--color-success);
        }

        .milestone-icon {
            font-size: var(--font-size-lg);
            margin-bottom: var(--space-2);
        }

        .milestone-title {
            font-weight: 600;
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-1);
        }

        [data-theme="tactical"] .milestone-title {
            font-family: var(--font-mono);
            text-transform: uppercase;
            font-size: var(--font-size-sm);
        }

        .milestone-detail {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .milestone-date {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        /* Market Comparison Section */
        .market-section {
            margin-top: 2.5rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .market-section:first-of-type {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        /* Market Tab Container */
        .market-tab-container {
            padding: var(--space-6);
        }

        .market-header {
            margin-bottom: 1.5rem;
        }

        .market-header h2 {
            font-family: var(--font-display);
            font-size: var(--font-size-lg);
            margin-bottom: 0.5rem;
        }

        [data-theme="tactical"] .market-header h2 {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-md);
        }

        .market-header .subtitle {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        /* Regional Context Banner (#147) */
        .market-context-banner {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            background: color-mix(in srgb, var(--accent-primary) 5%, transparent);
            border-left: 3px solid var(--accent-primary);
            border-radius: var(--radius-sm);
            margin-bottom: var(--space-6);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .market-context-banner .context-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        /* Market Summary Card - #78: Stronger visual callout */
        .market-summary-cards {
            margin-bottom: var(--space-6);
        }

        .market-summary-card {
            display: flex;
            align-items: flex-start;
            gap: var(--space-5);
            padding: var(--space-6);
            background: var(--bg-card);
            border: 2px solid var(--border-color);  /* #78: Thicker border (was 1px) */
            border-radius: var(--radius-card);  /* 8px per #106 */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);  /* #78: Stronger shadow for elevation */
        }

        .market-summary-card.outperforming {
            border-color: var(--color-success);
            /* #78: Stronger gradient - layered approach for more visible color */
            background:
                linear-gradient(135deg, var(--color-success-muted) 0%, transparent 100%),
                linear-gradient(135deg, var(--color-success-muted) 0%, transparent 60%);
        }

        .market-summary-card.underperforming {
            border-color: var(--color-danger);
            /* #78: Stronger gradient - layered approach for more visible color */
            background:
                linear-gradient(135deg, var(--color-danger-muted) 0%, transparent 100%),
                linear-gradient(135deg, var(--color-danger-muted) 0%, transparent 60%);
        }

        .market-summary-icon {
            font-size: var(--font-size-2xl);
            flex-shrink: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 56px;  /* #78: Increased from 48px */
            height: 56px;  /* #78: Increased from 48px */
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
        }

        .market-summary-icon svg {
            width: 1.75rem;  /* #78: Slightly larger (was 1.5rem) */
            height: 1.75rem;  /* #78: Slightly larger (was 1.5rem) */
            color: var(--color-brand);
        }

        /* #78: Colored gradient backgrounds for icons */
        .market-summary-card.outperforming .market-summary-icon {
            background: linear-gradient(135deg, var(--color-success-muted), var(--bg-tertiary));
        }

        .market-summary-card.outperforming .market-summary-icon svg {
            color: var(--color-success);
        }

        .market-summary-card.underperforming .market-summary-icon {
            background: linear-gradient(135deg, var(--color-danger-muted), var(--bg-tertiary));
        }

        .market-summary-card.underperforming .market-summary-icon svg {
            color: var(--color-danger);
        }

        .market-summary-content {
            flex: 1;
        }

        .market-summary-headline {
            font-family: var(--font-display);
            font-size: var(--font-size-lg);  /* #78: Increased from md */
            font-weight: 600;
            margin-bottom: var(--space-2);
            line-height: 1.4;
        }

        [data-theme="tactical"] .market-summary-headline {
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-md);  /* #78: Increased from sm */
        }

        .market-summary-detail {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.6;
        }

        .market-summary-detail strong {
            color: var(--text-primary);
        }

        /* Inflation Analysis Section */
        .inflation-analysis {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-6);
        }

        @media (max-width: 700px) {
            .inflation-analysis {
                grid-template-columns: 1fr;
            }
        }

        .inflation-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);  /* 8px per #106 */
            padding: var(--space-5);
        }

        .inflation-card-title {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: var(--space-3);
        }

        .inflation-card-value {
            font-size: var(--font-size-xl);
            font-weight: 700;
            font-family: var(--font-mono);
            margin-bottom: var(--space-1);
        }

        .inflation-card-value.positive {
            color: var(--color-success);
        }

        .inflation-card-value.negative {
            color: var(--color-danger);
        }

        .inflation-card-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .inflation-breakdown {
            margin-top: var(--space-4);
            padding-top: var(--space-4);
            border-top: 1px dashed var(--border-color);
        }

        .inflation-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--font-size-sm);
            padding: var(--space-1) 0;
        }

        .inflation-row-label {
            color: var(--text-secondary);
        }

        .inflation-row-value {
            font-family: var(--font-mono);
            font-weight: 600;
        }

        .inflation-row-value.positive {
            color: var(--color-success);
        }

        .inflation-row-value.negative {
            color: var(--color-danger);
        }

        .market-title {
            font-family: var(--font-display);
            font-size: var(--font-size-base);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
        }

        [data-theme="tactical"] .market-title {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: var(--font-size-sm);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
        }

        @media (max-width: 900px) {
            .market-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .market-grid {
                grid-template-columns: 1fr;
            }
        }

        /* #79: Market cards - visual differentiation through hierarchy */
        .market-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);  /* 8px per #106 */
            padding: var(--space-4);
            position: relative;
        }

        /* #79: Primary cards have larger typography and stronger visual weight */
        .market-card-primary {
            padding: var(--space-5);
            box-shadow: var(--shadow-card);
        }

        .market-card-primary .market-card-value {
            font-size: var(--font-size-2xl);
        }

        .market-card-primary .market-card-label {
            font-size: var(--font-size-sm);
        }

        .market-card.positive {
            background: linear-gradient(180deg, var(--color-success-muted), transparent);
        }

        .market-card.negative {
            background: linear-gradient(180deg, var(--color-danger-muted), transparent);
        }

        .market-card.neutral {
            border-color: var(--border-color);
        }

        .market-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-2);
        }

        .market-card-label {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-family: var(--font-mono);
        }

        /* #80: Market badges - toned down, less colorful */
        .market-card-badge {
            font-size: var(--font-size-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-weight: 500;
            text-transform: uppercase;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .market-card-badge.above {
            color: var(--color-success);
            /* #80: Removed colored border for single-color emphasis (was double) */
        }

        .market-card-badge.below {
            color: var(--color-danger);
            /* #80: Removed colored border for single-color emphasis (was double) */
        }

        .market-card-badge.at {
            color: var(--text-secondary);
        }

        .market-card-value {
            font-size: var(--font-size-lg);
            font-weight: 700;
            font-family: var(--font-mono);
            margin-bottom: var(--space-1);
        }

        .market-card-value.positive {
            color: var(--color-success);
        }

        .market-card-value.negative {
            color: var(--color-danger);
        }

        .market-card-comparison {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .market-card-comparison strong {
            color: var(--text-primary);
        }

        .market-footnote {
            margin-top: var(--space-5);
            padding-top: var(--space-4);
            border-top: 1px dashed var(--border-color);
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            font-style: italic;
        }

        /* Story stat indicators */
        .story-stat.positive {
            color: var(--color-success);
            background: var(--color-success-muted);
        }

        .story-stat.negative {
            color: var(--color-danger);
            background: var(--color-danger-muted);
        }

        /* ========================================
           DATA TABLE - #82-86: History table polish
           ======================================== */

        .data-table-container {
            overflow-x: auto;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-card);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: var(--font-size-sm);
        }

        .data-table th {
            background: var(--bg-tertiary);
            padding: var(--space-4);
            text-align: left;
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
        }

        /* #82: Right-align numeric columns */
        .data-table th:nth-child(n+3),
        .data-table td:nth-child(n+3) {
            text-align: right;
        }

        .data-table th .info-tooltip {
            margin-left: var(--space-1);
        }

        .data-table td {
            padding: var(--space-4);
            border-bottom: 1px solid var(--border-color);
            font-family: var(--font-body);
            color: var(--text-primary);
            font-variant-numeric: tabular-nums;  /* #75: Keep column alignment */
        }

        /* #84: Row hover state */
        .data-table tr:hover td {
            background: var(--bg-hover);
        }

        /* #85: Zebra striping */
        .data-table tbody tr:nth-child(even) td {
            background: var(--bg-tertiary);
        }

        .data-table tbody tr:nth-child(even):hover td {
            background: var(--bg-hover);
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        /* #83: Badges - neutral styling, salary column gets emphasis instead */
        .badge {
            display: inline-block;
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-badge);  /* 4px per #106 */
            font-size: var(--font-size-xs);
            font-family: var(--font-body);
            text-transform: capitalize;
            font-weight: 500;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        /* #83: Bold Annual Salary column (3rd column) for emphasis */
        .data-table td:nth-child(3) {
            font-weight: 600;
        }

        /* ========================================
           ANALYTICS SECTION
           ======================================== */

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        @media (max-width: 900px) {
            .analytics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }

        /* #87: Analytics cards aligned with Home metric-card layout */
        .analytics-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);  /* 8px per #106 */
            padding: var(--space-5) var(--space-6);
            box-shadow: var(--shadow-card);
            position: relative;
            transition: all var(--transition-speed);
        }

        .analytics-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent-primary);
        }

        [data-theme="tactical"] .analytics-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), transparent);
        }

        [data-theme="artistic"] .analytics-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-primary);
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .analytics-card-title {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: var(--space-2);
        }

        /* #138: Row layout with value left, detail right */
        .analytics-card-row {
            display: flex;
            align-items: baseline;
            gap: var(--space-3);
            margin-bottom: var(--space-2);
        }

        .analytics-card-value {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-primary);
            font-family: var(--font-display);
            line-height: 1.2;
            flex-shrink: 0;
            font-variant-numeric: tabular-nums;  /* #75: Keep column alignment */
        }

        /* #138: Detail text now sits beside value */
        .analytics-card-detail {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        /* #138: Help text replaces tooltip - always visible */
        .analytics-card-help {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            line-height: 1.4;
            opacity: 0.8;
        }

        /* ========================================
           PROJECTIONS SECTION
           ======================================== */

        .projections-controls {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        .control-group {
            margin-bottom: var(--space-6);
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .control-label {
            display: flex;
            align-items: center;
            font-size: var(--font-size-sm);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: 0.75rem;
        }

        /* #95: Interval buttons - segmented control style matching chart controls */
        .interval-buttons {
            display: inline-flex;
            gap: 0;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-1);
        }

        .interval-btn {
            padding: var(--space-2) var(--space-4);
            background: transparent;
            border: none;
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            cursor: pointer;
            transition: all var(--transition-speed);
            min-height: 36px;
        }

        .interval-btn.active {
            background: var(--color-brand);
            color: var(--bg-primary);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            font-weight: 600;
        }

        .interval-btn:hover:not(.active) {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        /* #94: Slider - better visibility */
        .slider-container {
            margin-top: var(--space-4);
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2);
        }

        .slider-value {
            font-family: var(--font-mono);
            font-weight: 600;
            color: var(--color-brand);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: var(--radius-sm);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]:focus-visible {
            outline: 2px solid var(--color-brand);
            outline-offset: 4px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-brand);
            cursor: pointer;
            border: 2px solid var(--bg-card);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-brand);
            cursor: pointer;
            border: 2px solid var(--bg-card);
        }

        .input-group {
            display: flex;
            gap: var(--space-4);
            align-items: flex-end;
            flex-wrap: wrap;
        }

        .input-field {
            flex: 1;
            min-width: 150px;
        }

        .input-field label {
            display: flex;
            align-items: center;
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
            margin-bottom: 0.5rem;
        }

        .input-field input {
            width: 100%;
            padding: var(--space-3);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-input);  /* 6px per #106 */
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
        }

        .input-field input:focus {
            border-color: var(--accent-primary);
        }

        .input-field input:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 0;
        }

        .projection-result {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin-top: 1rem;
        }

        .projection-result-title {
            display: flex;
            align-items: center;
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-mono);
        }

        .projection-result-value {
            font-size: var(--font-size-md);
            font-weight: 700;
            color: var(--accent-secondary);
            font-family: var(--font-mono);
            margin-top: 0.25rem;
        }

        .projection-result-detail {
            font-size: var(--font-size-sm);
            color: var(--text-tertiary);
            margin-top: 0.25rem;
        }

        .projections-intro {
            margin-bottom: 1.5rem;
        }

        .projections-intro h2 {
            font-family: var(--font-display);
            font-size: var(--font-size-md);
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .projections-intro p {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.5;
        }

        .projections-controls-row {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-6);
            align-items: flex-start;
        }

        .projections-controls-row .control-group {
            flex: 1;
            min-width: 200px;
        }

        .target-group {
            min-width: 280px !important;
        }

        .target-inline {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            flex-wrap: wrap;
            margin-top: 0.5rem;
        }

        .target-inline span {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        .target-inline input {
            width: 120px;
            padding: var(--space-2);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
        }

        .target-inline strong {
            color: var(--accent-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-base);
        }

        .interval-buttons.centered {
            justify-content: center;
        }

        .scenario-label {
            font-size: var(--font-size-sm);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .scenario-label.conservative {
            background: rgba(0, 150, 199, 0.15);
            color: var(--accent-secondary);
        }

        .scenario-label.historical {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .scenario-label.aggressive {
            background: rgba(232, 93, 4, 0.15);
            color: var(--accent-primary);
        }

        .slider-context {
            font-size: var(--font-size-sm);
            color: var(--text-tertiary);
            margin-top: 0.5rem;
        }

        .slider-context span {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .goal-input {
            display: flex;
            align-items: center;
            margin-top: 0.5rem;
        }

        .goal-currency {
            font-size: var(--font-size-base);
            color: var(--text-secondary);
            margin-right: 0.25rem;
        }

        .goal-input input {
            width: 140px;
            padding: var(--space-2);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-base);
        }

        .goal-answer {
            margin-top: 0.75rem;
        }

        .goal-answer span:first-child {
            font-size: var(--font-size-lg);
            font-weight: 700;
            color: var(--accent-secondary);
            font-family: var(--font-mono);
        }

        .goal-context {
            display: block;
            font-size: var(--font-size-sm);
            color: var(--text-tertiary);
            margin-top: 0.25rem;
        }

        .projections-controls-row.two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-8);
        }

        .projections-controls-row.two-col .control-group {
            min-width: unset;
        }

        .chart-header-controls {
            display: flex;
            align-items: center;
            gap: var(--space-6);
        }

        .chart-header-controls .interval-buttons {
            display: flex;
            gap: var(--space-1);
        }

        .chart-header-controls .interval-btn {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-sm);
        }

        /* #94: Dedicated controls box above chart */
        .projections-controls-box {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-5);
            box-shadow: var(--shadow-card);
        }

        .projections-controls-row {
            display: flex;
            flex-wrap: wrap;
            align-items: flex-start;
            justify-content: center;
            gap: var(--space-8);
        }

        .projections-control-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .control-group-label {
            font-size: var(--font-size-xs);
            font-family: var(--font-mono);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .projection-slider-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
            flex: 1;
            min-width: 200px;
            max-width: 320px;
        }

        .projection-slider-group .slider-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .slider-with-value {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .slider-with-value input[type="range"] {
            flex: 1;
            min-width: 120px;
        }

        .slider-with-value .slider-value {
            font-weight: 700;
            color: var(--accent-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-base);
            min-width: 40px;
        }

        .projection-slider-group .slider-context {
            font-size: var(--font-size-xs);
            color: var(--text-tertiary);
        }

        .projection-slider-group .slider-context span {
            font-weight: 600;
            color: var(--text-secondary);
        }

        /* #92: Custom premium checkbox with brand colors */
        .checkbox-control {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            cursor: pointer;
            padding: var(--space-2) var(--space-3);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            transition: all var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 36px;
            position: relative;
        }

        .checkbox-control:hover {
            background: var(--bg-hover);
            border-color: var(--text-muted);
        }

        /* Hide native checkbox but keep it accessible */
        .checkbox-control input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            width: 20px;
            height: 20px;
            margin: 0;
            cursor: pointer;
        }

        /* Custom checkbox box */
        .checkbox-control input[type="checkbox"] + .checkbox-label::before {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: var(--space-3);
            border: 2px solid var(--border-accent);
            border-radius: var(--radius-sm);
            background: var(--bg-secondary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            flex-shrink: 0;
            position: relative;
            vertical-align: middle;
        }

        /* Custom checkmark */
        .checkbox-control input[type="checkbox"] + .checkbox-label::after {
            content: '';
            position: absolute;
            left: 7px;
            top: 3px;
            transform: scale(0) rotate(45deg);
            width: 5px;
            height: 10px;
            border: solid var(--text-on-brand);
            border-width: 0 3px 3px 0;
            opacity: 0;
            transition: all 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* Hover state for checkbox box */
        .checkbox-control:hover input[type="checkbox"] + .checkbox-label::before {
            border-color: var(--color-brand);
            box-shadow: 0 0 0 3px var(--color-brand-muted);
        }

        /* Checked state - checkbox box */
        .checkbox-control input[type="checkbox"]:checked + .checkbox-label::before {
            background: var(--color-brand);
            border-color: var(--color-brand);
            box-shadow: 0 2px 8px var(--color-brand-muted),
                        0 0 0 3px var(--color-brand-muted);
        }

        /* Checked state - checkmark animation */
        .checkbox-control input[type="checkbox"]:checked + .checkbox-label::after {
            opacity: 1;
            transform: scale(1) rotate(45deg);
        }

        /* Focus state for accessibility */
        .checkbox-control input[type="checkbox"]:focus + .checkbox-label::before {
            outline: 2px solid var(--color-brand);
            outline-offset: 2px;
        }

        /* Label styling */
        .checkbox-control .checkbox-label {
            font-size: var(--font-size-sm);
            font-family: var(--font-mono);
            color: var(--text-secondary);
            transition: color var(--transition-speed);
            display: inline-flex;
            align-items: center;
            position: relative;
            padding-left: 0;
        }

        /* Container state when checked */
        .checkbox-control:has(input:checked) {
            background: var(--bg-hover);
            border-color: var(--color-brand);
        }

        .checkbox-control:has(input:checked) .checkbox-label {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* #95, #96: Unified control styling in projections box */
        .projections-controls-box .interval-buttons,
        .projections-controls-box .chart-controls {
            min-height: 36px;
        }

        .projections-controls-box .interval-btn,
        .projections-controls-box .chart-type-btn {
            min-height: 36px;
            padding: var(--space-2) var(--space-4);
        }

        /* Chart section without header */
        .projections-chart-section {
            margin-top: 0;
        }

        .projections-chart-section .chart-wrapper {
            border-radius: var(--radius-lg);
        }

        .projections-table {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-card);
        }

        /* ========================================
           HELP SECTION - #97-100: Help tab polish
           ======================================== */

        /* #97: Help section headers - group cards into logical sections */
        .help-section {
            margin-bottom: var(--space-8);
        }

        .help-section:last-child {
            margin-bottom: 0;
        }

        .help-section-header {
            font-family: var(--font-display);
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--space-4);
            padding-bottom: var(--space-2);
            border-bottom: 1px solid var(--border-color);
        }

        [data-theme="tactical"] .help-section-header {
            color: var(--color-brand);
        }

        .help-section-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-6);
        }

        @media (max-width: 768px) {
            .help-section-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Help cards */
        .help-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-card);
            padding: var(--space-6);
            box-shadow: var(--shadow-card);
        }

        /* Featured card spans full width */
        .help-card--featured {
            grid-column: span 2;
            background: linear-gradient(135deg, var(--color-brand-muted), transparent);
        }

        @media (max-width: 768px) {
            .help-card--featured {
                grid-column: span 1;
            }
        }

        /* #100: Help card headers - 18px semibold with orange accent */
        .help-card h3 {
            font-family: var(--font-display);
            font-size: 1.125rem; /* 18px */
            font-weight: 600;
            margin-bottom: var(--space-4);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .help-card h3::before {
            content: '';
            width: 4px;
            height: 1em;
            background: var(--color-brand);
            border-radius: var(--radius-xs);
            flex-shrink: 0;
        }

        [data-theme="tactical"] .help-card h3 {
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: var(--font-size-sm);
        }

        .help-card p {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.7;
        }

        .help-card p + p {
            margin-top: var(--space-3);
        }

        .help-link {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid var(--accent-primary);  /* #76: Visible underline */
            transition: border-color var(--transition-speed);
        }

        .help-link:hover {
            border-bottom-color: var(--accent-secondary);
        }

        /* #98: Formula display - proper math formatting */
        .help-card code {
            background: var(--bg-tertiary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .formula-block {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: var(--space-4);
            margin: var(--space-4) 0;
            text-align: center;
        }

        .formula-block code {
            font-size: var(--font-size-md);
            background: none;
            border: none;
            padding: 0;
            display: block;
            margin-bottom: var(--space-3);
        }

        .formula-legend {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-align: center;
            margin-top: var(--space-3);
            padding-top: var(--space-3);
            border-top: 1px dashed var(--border-color);
        }

        .formula-legend span {
            display: inline-block;
            margin: 0 var(--space-2);
        }

        /* #99: Keyboard shortcut table */
        .shortcut-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--space-3) 0;
        }

        .shortcut-table th {
            text-align: left;
            font-size: var(--font-size-xs);
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: var(--space-2) var(--space-3);
            border-bottom: 1px solid var(--border-color);
        }

        .shortcut-table td {
            padding: var(--space-2) var(--space-3);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-subtle);
        }

        .shortcut-table tr:last-child td {
            border-bottom: none;
        }

        .shortcut-table kbd {
            display: inline-block;
            padding: var(--space-1) var(--space-2);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xs);
            box-shadow: 0 1px 0 var(--border-color);
            min-width: 1.5rem;
            text-align: center;
        }

        /* Help note styling */
        .help-note {
            font-size: var(--font-size-xs) !important;
            color: var(--text-muted) !important;
            margin-top: var(--space-4) !important;
            padding-top: var(--space-3);
            border-top: 1px dashed var(--border-color);
        }

        /* ========================================
           FOOTER
           ======================================== */
        
        .footer {
            text-align: center;
            padding: var(--space-8);
            color: var(--text-muted);
            font-size: var(--font-size-sm);
            font-family: var(--font-mono);
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
        }

        .footer-link {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid var(--accent-primary);  /* #76: Visible underline */
            transition: all var(--transition-speed);
        }

        .footer-link:hover {
            color: var(--accent-secondary);
            border-bottom-color: var(--accent-secondary);
        }

        /* ========================================
           UTILITY: HIDDEN
           ======================================== */

        .hidden {
            display: none !important;
        }

        /* ========================================
           ACCESSIBILITY: FOCUS STYLES
           ======================================== */

        .btn:focus-visible,
        .tab-btn:focus-visible,
        .theme-btn:focus-visible,
        .view-btn:focus-visible,
        .landing-theme-btn:focus-visible,
        .chart-type-btn:focus-visible,
        .demo-banner-close:focus-visible,
        .demo-regenerate-btn:focus-visible,
        .btn-demo:focus-visible,
        .btn-text:focus-visible,
        .btn-text-alt:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
        }

        textarea:focus-visible,
        input:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 0;
        }

        /* Skip link for keyboard navigation */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            padding: var(--space-2) var(--space-4);
            background: var(--accent-primary);
            color: var(--bg-primary);
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);
            z-index: 10000;
            transition: top 0.2s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* ========================================
           ACCESSIBILITY: REDUCED MOTION
           ======================================== */

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .animate-in {
                animation: none;
                opacity: 1;
            }
        }

        /* ========================================
           PRINT STYLES
           ======================================== */

        @media print {
            /* Hide non-essential UI elements */
            .header-controls,
            .keyboard-hint,
            .demo-banner,
            .tabs-nav,
            .skip-link,
            .chart-type-controls,
            .interval-buttons,
            .btn-primary,
            .btn-secondary,
            .btn-demo,
            .demo-regenerate-btn,
            .landing-theme-toggle {
                display: none !important;
            }

            /* Show all tab content */
            .tab-content {
                display: block !important;
                page-break-inside: avoid;
            }

            /* Reset backgrounds for print */
            body {
                background: white !important;
                color: black !important;
            }

            .dashboard-container,
            .main-container,
            .metric-card,
            .kpi-card,
            .help-card,
            .milestone-card {
                background: white !important;
                border-color: #ccc !important;
                box-shadow: none !important;
            }

            /* Ensure text is readable */
            * {
                color: black !important;
            }

            /* Charts - ensure they're visible */
            canvas {
                max-width: 100% !important;
                height: auto !important;
            }
        }

        /* ========================================
           PRIVACY CALLOUT (Right Panel)
           ======================================== */
        
        .privacy-callout {
            display: flex;
            align-items: flex-start;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            background: rgba(69, 212, 138, 0.1);
            border: 1px solid var(--accent-secondary);
            border-radius: var(--radius-md);
            margin-bottom: 0.875rem;
            flex-shrink: 0;
        }

        [data-theme="artistic"] .privacy-callout {
            background: rgba(0, 150, 199, 0.1);
        }

        .privacy-callout-icon {
            font-size: var(--font-size-base);
            flex-shrink: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .privacy-callout-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-secondary);
        }

        .privacy-callout-text {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .privacy-callout-text strong {
            color: var(--accent-secondary);
        }

        .privacy-callout-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .privacy-verify-link {
            font-size: 0.875rem;
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid var(--accent-primary);  /* #76: Visible underline */
            transition: border-color var(--transition-speed);
        }

        .privacy-verify-link:hover {
            border-bottom-color: var(--accent-secondary);
        }

        /* ========================================
           DOWNLOAD OFFLINE BUTTON
           ======================================== */
        
        .privacy-download {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px dashed var(--border-color);
        }

        .btn-download-offline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            width: 100%;
            padding: var(--space-2) var(--space-3);
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .btn-download-offline span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-download-offline svg {
            width: 0.875rem;
            height: 0.875rem;
        }

        .btn-download-offline:hover {
            border-color: var(--accent-secondary);
            color: var(--accent-secondary);
            background: rgba(69, 212, 138, 0.1);
        }

        [data-theme="artistic"] .btn-download-offline:hover {
            background: rgba(0, 150, 199, 0.1);
        }

        .download-hint {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            text-align: center;
            margin-top: 0.4rem;
            font-style: italic;
        }

        /* ========================================
           BENCHMARK SOURCES
           ======================================== */
        
        /* #81: Data sources - elevated with clear hierarchy */
        .benchmark-sources {
            margin-top: var(--space-8);  /* #81: More generous spacing (was 1.5rem) */
            padding: var(--space-6);  /* #81: More generous padding (was space-4) */
            background: var(--bg-card);  /* #81: Elevated from tertiary to card */
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-card);  /* #81: Added elevation */
        }

        .benchmark-sources-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-4);  /* #81: More spacing (was 0.75rem) */
            padding-bottom: var(--space-3);  /* #81: Space for underline */
            border-bottom: 1px solid var(--border-color);  /* #81: Underline separator */
            font-family: var(--font-mono);
            font-size: var(--font-size-sm);  /* #81: Larger (was xs) */
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);  /* #81: Less muted (was text-muted) */
            font-weight: 600;  /* #81: Stronger presence */
        }

        .benchmark-sources-header span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .benchmark-sources-header svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-primary);
        }

        .benchmark-sources-list {
            display: grid;
            gap: var(--space-4);  /* #81: More breathing room (was space-2) */
        }

        .benchmark-source-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);  /* #81: More spacing (was space-2) */
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.6;  /* #81: More generous (was 1.4) */
        }

        .benchmark-source-item .source-icon {
            flex-shrink: 0;
            opacity: 0.6;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .benchmark-source-item .source-icon svg {
            width: 1rem;
            height: 1rem;
            color: var(--accent-secondary);
        }

        .benchmark-source-item .source-label {
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Data Freshness Badges (#147) */
        .data-freshness {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: var(--space-2);
            margin-right: var(--space-2);
        }

        .data-freshness.fresh {
            background: color-mix(in srgb, var(--color-success) 15%, transparent);
            color: var(--color-success);
        }

        /* Methodology Details (Collapsible) (#147) */
        .methodology-details {
            margin-top: var(--space-4);
            padding: var(--space-4);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
        }

        .methodology-details summary {
            font-weight: 600;
            color: var(--text-primary);
            cursor: pointer;
            user-select: none;
            list-style: none;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .methodology-details summary::-webkit-details-marker {
            display: none;
        }

        .methodology-details summary::before {
            content: '';
            display: inline-block;
            transition: transform 0.2s;
            font-size: 0.75rem;
            color: var(--accent-primary);
        }

        .methodology-details[open] summary::before {
            transform: rotate(90deg);
        }

        .methodology-details summary:hover {
            color: var(--accent-primary);
        }

        .methodology-details summary:focus {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
            border-radius: var(--radius-xs);
        }

        .methodology-content {
            margin-top: var(--space-4);
            padding-top: var(--space-4);
            border-top: 1px solid var(--border-color);
        }

        .methodology-content h4 {
            font-family: var(--font-display);
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            margin-top: var(--space-4);
        }

        .methodology-content h4:first-child {
            margin-top: 0;
        }

        .methodology-content ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .methodology-content li {
            padding-left: var(--space-5);
            position: relative;
            margin-bottom: var(--space-3);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .methodology-content li::before {
            content: '';
            position: absolute;
            left: var(--space-2);
            color: var(--accent-primary);
            font-weight: bold;
        }

        /* #77: Benchmark disclaimer - upgraded to story-insight pattern */
        .benchmark-disclaimer {
            margin-top: var(--space-6);
            padding: var(--space-4) var(--space-5);
            background: var(--color-info-muted);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .benchmark-disclaimer-label {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-info);
            display: block;
            margin-bottom: var(--space-2);
            font-weight: 600;
        }

        /* Market Footnote (#147) */
        .market-footnote {
            margin-top: var(--space-6);
            padding-top: var(--space-4);
            border-top: 1px solid var(--border-subtle);
            font-size: 0.8rem;
            color: var(--text-tertiary);
            text-align: center;
            font-family: var(--font-mono);
        }

        .source-link {
            color: var(--accent-secondary);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent-secondary);
            transition: all var(--transition-speed);
        }

        .source-link:hover {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        /* ========================================
           TAB LINK (in-content navigation) - #76: Better distinguished
           ======================================== */

        .tab-link {
            color: var(--color-success);
            text-decoration: none;
            font-weight: 600;
            font-style: normal;
            border-bottom: 1px solid var(--color-success);
            transition: all var(--transition-speed);
            cursor: pointer;
        }

        .tab-link:hover {
            color: var(--color-brand);
            border-bottom-color: var(--color-brand);
        }

        /* ========================================
           STORY INSIGHT - #77: Improved note box styling
           ======================================== */

        .story-insight {
            margin-top: var(--space-8);
            padding: var(--space-4) var(--space-5);
            background: var(--color-info-muted);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .story-insight-label {
            font-family: var(--font-mono);
            font-size: var(--font-size-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-info);
            display: block;
            margin-bottom: var(--space-2);
        }

        /* ========================================
           RESPONSIVE
           ======================================== */
        
        @media (max-width: 768px) {
            .header {
                padding: var(--space-4);
            }

            .main-container {
                padding: var(--space-4);
            }

            .chart-wrapper {
                height: 280px;
            }

            .keyboard-hint {
                display: none;
            }

            .privacy-badge {
                flex-direction: column;
                text-align: center;
                gap: var(--space-4);
            }

            .privacy-features {
                justify-content: center;
            }

            .landing-card {
                padding: var(--space-6);
            }
        }

        /* Respect user preference for reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .landing-logo-icon,
            .logo-icon {
                transition: none;
            }

            .landing-logo-icon:hover,
            .logo-icon:hover {
                transform: none;
            }

            .landing-logo-icon:hover {
                transform: rotate(-3deg);
            }

            .animate-in {
                animation: none;
                opacity: 1;
            }
        }
